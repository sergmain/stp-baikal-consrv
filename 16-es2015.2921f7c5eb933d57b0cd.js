(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{gFOi:function(t,c,e){"use strict";e.r(c),e.d(c,"BatchRoutes",(function(){return zt})),e.d(c,"BatchRoutingModule",(function(){return $t})),e.d(c,"BatchModule",(function(){return Qt}));var n=e("ofXK"),a=e("3Pt+"),i=e("tyNb"),s=e("sYmb"),o=e("vCXQ"),b=e("u8e3"),r=e("Hz+5"),l=e("fXoL"),d=e("2ljo"),u=e("1P+h"),h=e("25/r"),f=e("Xc1m"),G=e("Ne1S"),p=e("Kt2f"),S=e("IRPT");function R(t,c){if(1&t&&(l.Sb(0,"ct-section-body-row"),l.Gc(1," \n      "),l.Sb(2,"ct-pre"),l.Gc(3),l.Rb(),l.Gc(4,"\n    "),l.Rb()),2&t){const t=l.ec();l.Ab(3),l.Hc(t.response.console)}}const g=function(t){return{batchId:t}},m=function(t,c){return[t,c]};let x=(()=>{class t{constructor(t,c,e){this.route=t,this.batchService=c,this.router=e,this.states=b.a,this.currentState=b.a.firstLoading}ngOnInit(){this.batchId=this.route.snapshot.paramMap.get("batchId"),this.updateResponse()}updateResponse(){this.batchService.getProcessingResourceStatus(this.batchId).subscribe(t=>{this.response=t,this.currentState=this.states.show})}}return t.\u0275fac=function(c){return new(c||t)(l.Mb(i.a),l.Mb(r.a),l.Mb(i.c))},t.\u0275cmp=l.Gb({type:t,selectors:[["batch-status"]],decls:21,vars:10,consts:[[4,"ngIf"]],template:function(t,c){1&t&&(l.Gc(0,"\n"),l.Sb(1,"ct-section"),l.Gc(2,"\n  "),l.Sb(3,"ct-section-header"),l.Gc(4,"\n    "),l.Sb(5,"ct-section-header-row"),l.Gc(6,"\n      "),l.Sb(7,"ct-heading"),l.Gc(8,"  \n        "),l.Sb(9,"div"),l.Gc(10),l.fc(11,"translate"),l.Rb(),l.Gc(12,"\n      "),l.Rb(),l.Gc(13,"\n    "),l.Rb(),l.Gc(14,"\n  "),l.Rb(),l.Gc(15,"\n  "),l.Sb(16,"ct-section-body"),l.Gc(17,"\n    "),l.Ec(18,R,5,1,"ct-section-body-row",0),l.Gc(19,"\n  "),l.Rb(),l.Gc(20,"\n"),l.Rb()),2&t&&(l.Ab(10),l.Ic("",l.hc(11,2,"batch-status.Status of execution of batch _batchId_",l.nc(5,g,c.batchId))," "),l.Ab(8),l.kc("ngIf",l.oc(7,m,c.states.wait,c.states.show).includes(c.currentState)))},directives:[d.a,u.a,h.a,f.a,G.a,n.m,p.a,S.a],pipes:[s.c],styles:["pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word}"]}),t})();var w=e("uB0V"),v=e("FzDw"),k=e("q4ZW"),A=e("LjSU"),C=e("MbdJ"),I=e("I6qf"),y=e("MI58"),O=e("kmnG"),E=e("d3UM"),D=e("PVyz"),M=e("FMVq"),T=e("V6TR"),F=e("CaYE"),P=e("No2e"),H=e("bTqV"),j=e("05qC"),B=e("FKr1");const q=["fileUpload"];function U(t,c){if(1&t&&(l.Sb(0,"div"),l.Gc(1,"\n                                "),l.Sb(2,"mat-option",11),l.Gc(3),l.Rb(),l.Gc(4,"\n                            "),l.Rb()),2&t){const t=c.$implicit;l.Ab(2),l.kc("value",t),l.Ab(1),l.Hc(t.uid)}}function L(t,c){if(1&t){const t=l.Tb();l.Sb(0,"ct-cols"),l.Gc(1,"\n    "),l.Sb(2,"ct-col",1),l.Gc(3,"\n        "),l.Sb(4,"ct-section"),l.Gc(5,"\n            "),l.Sb(6,"ct-section-header"),l.Gc(7,"\n                "),l.Sb(8,"ct-section-header-row"),l.Gc(9,"\n                    "),l.Sb(10,"ct-heading"),l.Gc(11),l.fc(12,"translate"),l.Rb(),l.Gc(13,"\n                "),l.Rb(),l.Gc(14,"\n            "),l.Rb(),l.Gc(15,"\n            "),l.Sb(16,"ct-section-body"),l.Gc(17,"\n                "),l.Sb(18,"ct-section-body-row"),l.Gc(19,"\n                    "),l.Sb(20,"mat-form-field",2),l.Gc(21,"\n                        "),l.Sb(22,"mat-label"),l.Gc(23),l.fc(24,"translate"),l.Rb(),l.Gc(25,"\n                        "),l.Sb(26,"mat-select",3),l.ac("ngModelChange",(function(c){return l.uc(t),l.ec().sourceCode=c})),l.Gc(27,"\n                            "),l.Ec(28,U,5,2,"div",4),l.Gc(29,"\n                        "),l.Rb(),l.Gc(30,"\n                        "),l.Sb(31,"mat-hint"),l.Gc(32),l.fc(33,"translate"),l.Rb(),l.Gc(34,"\n                    "),l.Rb(),l.Gc(35,"\n\n                    "),l.Nb(36,"br"),l.Gc(37,"\n                    "),l.Nb(38,"br"),l.Gc(39,"\n\n                    "),l.Sb(40,"div"),l.Gc(41,"\n                        "),l.Sb(42,"ct-file-upload",5,6),l.ac("changed",(function(){return l.uc(t),l.ec().fileUploadChanged()})),l.fc(44,"translate"),l.Gc(45,"\n                        "),l.Rb(),l.Gc(46,"\n                        "),l.Sb(47,"ct-hint"),l.Gc(48),l.fc(49,"translate"),l.Rb(),l.Gc(50,"\n                        "),l.Sb(51,"ct-hint"),l.Gc(52),l.fc(53,"translate"),l.Rb(),l.Gc(54,"\n                    "),l.Rb(),l.Gc(55,"\n                "),l.Rb(),l.Gc(56,"\n            "),l.Rb(),l.Gc(57,"\n            "),l.Sb(58,"ct-section-footer"),l.Gc(59,"\n                "),l.Sb(60,"ct-section-footer-row"),l.Gc(61,"\n                    "),l.Sb(62,"ct-flex",7),l.Gc(63,"\n                        "),l.Sb(64,"ct-flex-item"),l.Gc(65,"\n                            "),l.Sb(66,"button",8),l.ac("click",(function(){return l.uc(t),l.ec().back()})),l.Gc(67),l.fc(68,"translate"),l.Rb(),l.Gc(69,"\n                        "),l.Rb(),l.Gc(70,"\n                        "),l.Sb(71,"ct-flex-item"),l.Gc(72,"\n                            "),l.Sb(73,"button",9),l.ac("click",(function(){return l.uc(t),l.ec().upload()})),l.Gc(74),l.fc(75,"translate"),l.Rb(),l.Gc(76,"\n                        "),l.Rb(),l.Gc(77,"\n                    "),l.Rb(),l.Gc(78,"\n                "),l.Rb(),l.Gc(79,"\n            "),l.Rb(),l.Gc(80,"\n        "),l.Rb(),l.Gc(81,"\n    "),l.Rb(),l.Gc(82,"\n    "),l.Sb(83,"ct-col",1),l.Gc(84,"\n        "),l.Nb(85,"ct-rest-status",10),l.Gc(86,"\n    "),l.Rb(),l.Gc(87,"\n"),l.Rb()}if(2&t){const t=l.ec();l.Ab(11),l.Hc(l.gc(12,12,"batch-add.Upload file for processing")),l.Ab(12),l.Ic(" ",l.gc(24,14,"batch-add.List of Source Codes"),""),l.Ab(3),l.kc("ngModel",t.sourceCode),l.Ab(2),l.kc("ngForOf",t.listOfSourceCodes),l.Ab(4),l.Hc(l.gc(33,16,"batch-add.This is a required field.")),l.Ab(10),l.lc("buttonTitle",l.gc(44,18,"batch-add.Select File")),l.Ab(6),l.Hc(l.gc(49,20,"batch-add.This is a required field.")),l.Ab(4),l.Hc(l.gc(53,22,"batch-add.Only .xml and .zip files are supported")),l.Ab(15),l.Ic("\n                                ",l.gc(68,24,"batch-add.Cancel"),""),l.Ab(6),l.kc("disabled",!t.sourceCode||!t.file),l.Ab(1),l.Ic(" ",l.gc(75,26,"batch-add.Upload-File-button"),""),l.Ab(11),l.kc("content",t.uploadResponse)}}let N=(()=>{class t extends v.a{constructor(t,c,e,n,a,i){super(i),this.batchService=t,this.router=c,this.route=e,this.translate=n,this.settingsService=a,this.authenticationService=i,this.currentStates=new Set,this.listOfSourceCodes=[]}ngOnInit(){this.subscribeSubscription(this.settingsService.events.subscribe(t=>{t instanceof A.b&&this.translate.use(t.settings.language)})),this.updateResponse()}ngOnDestroy(){this.unsubscribeSubscriptions()}updateResponse(){this.batchService.batchAdd().subscribe(t=>{this.response=t,this.listOfSourceCodes=this.response.items})}back(){this.router.navigate(["../"],{relativeTo:this.route})}upload(){this.batchService.uploadFile(this.sourceCode.id.toString(),this.fileUpload.fileInput.nativeElement.files[0]).subscribe(t=>{t.status===w.a.OK&&this.back(),this.uploadResponse=t})}fileUploadChanged(){this.file=this.fileUpload.fileInput.nativeElement.files[0]||!1}}return t.\u0275fac=function(c){return new(c||t)(l.Mb(r.a),l.Mb(i.c),l.Mb(i.a),l.Mb(s.d),l.Mb(A.a),l.Mb(k.AuthenticationService))},t.\u0275cmp=l.Gb({type:t,selectors:[["batch-add"]],viewQuery:function(t,c){var e;1&t&&l.Kc(q,!0),2&t&&l.rc(e=l.bc())&&(c.fileUpload=e.first)},features:[l.xb],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["appearance","outline"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["acceptTypes",".zip, .xml",3,"buttonTitle","changed"],["fileUpload",""],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"],[3,"value"]],template:function(t,c){1&t&&l.Ec(0,L,88,28,"ct-cols",0),2&t&&l.kc("ngIf",c.response)},directives:[n.m,I.a,y.a,d.a,u.a,h.a,f.a,G.a,p.a,O.b,O.f,E.a,a.k,a.n,n.l,O.e,C.a,D.a,M.a,T.a,F.a,P.a,H.b,j.a,B.n],pipes:[s.c],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();var z=e("9kxi"),$=e("W8U/"),Q=e("6Q+1"),_=e("qyGu");let J=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["batch-root"]],decls:8,vars:0,template:function(t,c){1&t&&(l.Sb(0,"ct-content"),l.Gc(1,"\n    "),l.Nb(2,"router-outlet"),l.Gc(3,"\n    "),l.Nb(4,"ct-back-button"),l.Gc(5,"\n    "),l.Nb(6,"copy-right"),l.Gc(7,"\n"),l.Rb())},directives:[$.a,i.h,Q.a,_.a],styles:[""]}),t})();var K=e("wIh8"),V=e("2qjw");let W=(()=>{class t{constructor(t){this.route=t,this.sourceCodeId=this.route.snapshot.paramMap.get("sourceCodeId"),this.execContextId=this.route.snapshot.paramMap.get("execContextId")}}return t.\u0275fac=function(c){return new(c||t)(l.Mb(i.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["batch-state"]],decls:19,vars:2,consts:[[3,"sourceCodeId","execContextId"]],template:function(t,c){1&t&&(l.Sb(0,"ct-section"),l.Gc(1,"\n    "),l.Sb(2,"ct-section-header"),l.Gc(3,"\n        "),l.Sb(4,"ct-section-header-row"),l.Gc(5,"\n            "),l.Sb(6,"ct-heading"),l.Gc(7,"State of Tasks"),l.Rb(),l.Gc(8,"\n        "),l.Rb(),l.Gc(9,"\n    "),l.Rb(),l.Gc(10,"\n    "),l.Sb(11,"ct-section-body"),l.Gc(12,"\n        "),l.Sb(13,"ct-section-body-row"),l.Gc(14,"\n            "),l.Nb(15,"ct-state-of-tasks",0),l.Gc(16,"\n        "),l.Rb(),l.Gc(17,"\n    "),l.Rb(),l.Gc(18,"\n"),l.Rb()),2&t&&(l.Ab(15),l.kc("sourceCodeId",c.sourceCodeId)("execContextId",c.execContextId))},directives:[d.a,u.a,h.a,f.a,G.a,p.a,V.a],styles:[""]}),t})();var X=e("+0xr"),Y=e("4u49"),Z=e("lJGJ"),tt=e("Iab2"),ct=e("YcRZ"),et=e("0IaG"),nt=e("LazG"),at=e("6xdO"),it=e("W7k4"),st=e("NFeN"),ot=function(t,c){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,c)};function bt(t,c){1&t&&l.Ob(0)}function rt(t,c){1&t&&(l.Sb(0,"span",22),l.Gc(1,"\u2713\xa0\xa0"),l.Rb())}function lt(t,c){1&t&&(l.Sb(0,"span",22),l.Gc(1,"\u2717\xa0\xa0"),l.Rb())}function dt(t,c){1&t&&(l.Sb(0,"th",23),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Hc(l.gc(2,1,"batch.Id")))}function ut(t,c){if(1&t&&(l.Sb(0,"td",24),l.Gc(1),l.Rb()),2&t){const t=c.$implicit;l.Ab(1),l.Ic("",t.batch.id," ")}}function ht(t,c){1&t&&(l.Sb(0,"th",23),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Ic("",l.gc(2,1,"batch.Created On"),"\n                        "))}function ft(t,c){if(1&t&&(l.Sb(0,"td",24),l.Gc(1),l.fc(2,"date"),l.Rb()),2&t){const t=c.$implicit;l.Ab(1),l.Ic("\n                            ",l.hc(2,1,t.batch.createdOn,"MMM d, yyyy, HH:mm:ss")," ")}}function Gt(t,c){1&t&&(l.Sb(0,"th",23),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Ic("",l.gc(2,1,"batch.Owner's username"),"\n                        "))}function pt(t,c){if(1&t&&(l.Sb(0,"td",24),l.Gc(1),l.Rb()),2&t){const t=c.$implicit;l.Ab(1),l.Hc(t.username)}}function St(t,c){1&t&&(l.Sb(0,"th",23),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Ic("\n                            ",l.gc(2,1,"batch.Is Batch Consistent?")," "))}function Rt(t,c){1&t&&(l.Sb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Hc(l.gc(2,1,"batch.isBatchConsistent.true")))}function gt(t,c){1&t&&(l.Sb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Hc(l.gc(2,1,"batch.isBatchConsistent.false")))}function mt(t,c){if(1&t&&(l.Sb(0,"td",24),l.Gc(1," "),l.Ec(2,Rt,3,3,"span",0),l.Ec(3,gt,3,3,"span",0),l.Rb()),2&t){const t=c.$implicit;l.Ab(2),l.kc("ngIf",t.ok),l.Ab(1),l.kc("ngIf",!t.ok)}}function xt(t,c){1&t&&(l.Sb(0,"th",23),l.Gc(1,"\n                            "),l.Sb(2,"div",25),l.Gc(3),l.fc(4,"translate"),l.Rb(),l.Gc(5,"\n                            "),l.Sb(6,"div",25),l.Gc(7),l.fc(8,"translate"),l.Rb(),l.Gc(9,"\n                        "),l.Rb()),2&t&&(l.Ab(3),l.Hc(l.gc(4,2,"batch.Source Code")),l.Ab(4),l.Hc(l.gc(8,4,"batch.File name")))}function wt(t,c){if(1&t&&(l.Sb(0,"td",24),l.Gc(1,"\n                            "),l.Sb(2,"div",25),l.Gc(3),l.Rb(),l.Gc(4,"\n                            "),l.Sb(5,"div",25),l.Gc(6),l.Rb(),l.Gc(7,"\n                        "),l.Rb()),2&t){const t=c.$implicit;l.Ab(3),l.Hc(t.sourceCodeUid),l.Ab(3),l.Hc(t.uploadedFileName)}}function vt(t,c){1&t&&(l.Sb(0,"th",23),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Ic(" ",l.gc(2,1,"batch.Exec State"),"\n                        "))}function kt(t,c){1&t&&(l.Sb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Ic("\n                                ",l.gc(2,1,"batch.isBatchConsistent.Error"),"\n                            "))}function At(t,c){1&t&&(l.Sb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Ic("\n                                ",l.gc(2,1,"batch.isBatchConsistent.Preparing"),"\n                            "))}function Ct(t,c){1&t&&(l.Sb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Ic("\n                                ",l.gc(2,1,"batch.isBatchConsistent.Processing"),"\n                            "))}function It(t,c){1&t&&(l.Sb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Rb()),2&t&&(l.Ab(1),l.Ic("\n                                ",l.gc(2,1,"batch.isBatchConsistent.Finished"),"\n                            "))}function yt(t,c){if(1&t&&(l.Sb(0,"td",24),l.Gc(1,"\n                            "),l.Ec(2,kt,3,3,"span",0),l.Gc(3,"\n                            "),l.Ec(4,At,3,3,"span",0),l.Gc(5,"\n                            "),l.Ec(6,Ct,3,3,"span",0),l.Gc(7,"\n                            "),l.Ec(8,It,3,3,"span",0),l.Gc(9,"\n                        "),l.Rb()),2&t){const t=c.$implicit;l.Ab(2),l.kc("ngIf",-1===t.execState),l.Ab(2),l.kc("ngIf",2===t.execState),l.Ab(2),l.kc("ngIf",3===t.execState),l.Ab(2),l.kc("ngIf",4===t.execState)}}function Ot(t,c){1&t&&(l.Sb(0,"th",23),l.Gc(1," "),l.Rb())}const Et=function(t,c,e){return["/batch",t,"source-code",c,"exec-context",e,"state"]},Dt=function(t){return["/batch",t,"status"]};function Mt(t,c){if(1&t){const t=l.Tb();l.Sb(0,"td",24),l.Gc(1,"\n                            "),l.Sb(2,"ct-flex",26),l.Gc(3,"\n                                "),l.Sb(4,"ct-flex-item"),l.Gc(5,"\n                                    "),l.Sb(6,"button",27),l.Gc(7),l.fc(8,"translate"),l.Rb(),l.Gc(9,"\n                                "),l.Rb(),l.Gc(10,"\n\n                                "),l.Sb(11,"ct-flex-item"),l.Gc(12,"\n                                    "),l.Sb(13,"button",27),l.Gc(14),l.fc(15,"translate"),l.Rb(),l.Gc(16,"\n                                "),l.Rb(),l.Gc(17,"\n\n                                "),l.Sb(18,"ct-flex-item"),l.Gc(19,"\n                                    "),l.Sb(20,"button",28),l.ac("click",(function(e){l.uc(t);const n=c.$implicit;return l.ec(2).downloadFile(e,n.batch.id)})),l.Gc(21),l.fc(22,"translate"),l.Rb(),l.Gc(23,"\n                                "),l.Rb(),l.Gc(24,"\n\n                                "),l.Sb(25,"ct-flex-item"),l.Gc(26,"\n                                    "),l.Sb(27,"button",29),l.ac("click",(function(e){l.uc(t);const n=c.$implicit;return l.ec(2).delete(e,n)})),l.Gc(28,"\n                                        "),l.Sb(29,"mat-icon"),l.Gc(30,"delete"),l.Rb(),l.Gc(31,"\n                                    "),l.Rb(),l.Gc(32,"\n                                "),l.Rb(),l.Gc(33,"\n                            "),l.Rb(),l.Gc(34,"\n                        "),l.Rb()}if(2&t){const t=c.$implicit;l.Ab(6),l.kc("disabled",t.execContextDeleted)("routerLink",l.pc(14,Et,t.batch.id,t.batch.sourceCodeId,t.batch.execContextId)),l.Ab(1),l.Ic("\n                                        ",l.gc(8,8,"batch.Task states"),""),l.Ab(6),l.kc("disabled",4!==t.execState||t.execContextDeleted)("routerLink",l.nc(18,Dt,t.batch.id)),l.Ab(1),l.Ic("\n                                        ",l.gc(15,10,"batch.Status"),""),l.Ab(6),l.kc("disabled",4!==t.execState||t.execContextDeleted),l.Ab(1),l.Ic("\n                                        ",l.gc(22,12,"batch.Download Result"),"")}}function Tt(t,c){1&t&&(l.Sb(0,"tr",30),l.Gc(1," "),l.Rb())}function Ft(t,c){if(1&t){const t=l.Tb();l.Sb(0,"tr",31),l.ac("click",(function(e){l.uc(t);const n=c.$implicit;return l.ec(2).selectRow(e,n)})),l.Rb()}if(2&t){const t=c.$implicit,e=l.ec(2);l.Eb("deleted-table-row",e.isDeletedRow(t))("selected-color",e.isSelectedRow(t))}}function Pt(t,c){if(1&t){const t=l.Tb();l.Sb(0,"ct-flex-item"),l.Gc(1,"\n                    "),l.Sb(2,"ct-flex",32),l.Gc(3,"\n                        "),l.Sb(4,"ct-flex-item"),l.Gc(5,"\n                            "),l.Sb(6,"div",33),l.Gc(7),l.fc(8,"translate"),l.Rb(),l.Gc(9,"\n                        "),l.Rb(),l.Gc(10,"\n                        "),l.Sb(11,"ct-flex-item"),l.Gc(12,"\n                            "),l.Sb(13,"button",34),l.ac("click",(function(){return l.uc(t),l.ec(2).downloadSelectedRows()})),l.Gc(14),l.fc(15,"translate"),l.Rb(),l.Gc(16,"\n                        "),l.Rb(),l.Gc(17,"\n                        "),l.Sb(18,"ct-flex-item"),l.Gc(19,"\n                            "),l.Sb(20,"button",34),l.ac("click",(function(){return l.uc(t),l.ec(2).discardSelectedRows()})),l.Gc(21),l.fc(22,"translate"),l.Rb(),l.Gc(23,"\n                        "),l.Rb(),l.Gc(24,"\n                    "),l.Rb(),l.Gc(25,"\n                "),l.Rb()}if(2&t){const t=l.ec(2);l.Ab(7),l.Jc("\n                                ",l.gc(8,4,"batch.Batch")," \xd7 ",t.countOfSelectedRows(),"\n                            "),l.Ab(7),l.Hc(l.gc(15,6,"batch.Download")),l.Ab(7),l.Hc(l.gc(22,8,"batch.Discard"))}}function Ht(t,c){1&t&&l.Ob(0)}function jt(t,c){if(1&t){const t=l.Tb();l.Sb(0,"ct-section"),l.Gc(1,"\n    "),l.Sb(2,"ct-section-header"),l.Gc(3,"\n        "),l.Sb(4,"ct-section-header-row"),l.Gc(5,"\n            "),l.Sb(6,"ct-flex",2),l.Gc(7,"\n                "),l.Sb(8,"ct-flex-item"),l.Gc(9,"\n                    "),l.Sb(10,"ct-heading"),l.Gc(11),l.fc(12,"translate"),l.Rb(),l.Gc(13,"\n                "),l.Rb(),l.Gc(14,"\n                "),l.Sb(15,"ct-flex-item"),l.Gc(16,"\n                    "),l.Sb(17,"ct-flex",3),l.Gc(18,"\n                        "),l.Sb(19,"ct-flex-item"),l.Gc(20,"\n                            "),l.Ec(21,bt,1,0,"ng-container",4),l.Gc(22,"\n                        "),l.Rb(),l.Gc(23,"\n                        "),l.Sb(24,"ct-flex-item"),l.Gc(25,"\n                            "),l.Sb(26,"button",5),l.ac("click",(function(){return l.uc(t),l.ec().toggleFilter()})),l.Gc(27,"\n                                "),l.Ec(28,rt,2,0,"span",6),l.Gc(29,"\n                                "),l.Ec(30,lt,2,0,"span",6),l.Gc(31,"\n                                "),l.Sb(32,"span"),l.Gc(33),l.fc(34,"translate"),l.Rb(),l.Gc(35,"\n                            "),l.Rb(),l.Gc(36,"\n                        "),l.Rb(),l.Gc(37,"\n                    "),l.Rb(),l.Gc(38,"\n                "),l.Rb(),l.Gc(39,"\n            "),l.Rb(),l.Gc(40,"\n        "),l.Rb(),l.Gc(41,"\n    "),l.Rb(),l.Gc(42,"\n    "),l.Sb(43,"ct-section-body"),l.Gc(44,"\n        "),l.Sb(45,"ct-section-body-row"),l.Gc(46,"\n            "),l.Sb(47,"ct-table",7),l.Gc(48,"\n                "),l.Sb(49,"table",8),l.Gc(50,"\n                    "),l.Qb(51,9),l.Gc(52,"\n                        "),l.Ec(53,dt,3,3,"th",10),l.Gc(54,"\n                        "),l.Ec(55,ut,2,1,"td",11),l.Gc(56,"\n                    "),l.Pb(),l.Gc(57,"\n                    "),l.Qb(58,12),l.Gc(59,"\n                        "),l.Ec(60,ht,3,3,"th",10),l.Gc(61,"\n                        "),l.Ec(62,ft,3,4,"td",11),l.Gc(63,"\n                    "),l.Pb(),l.Gc(64,"\n                    "),l.Qb(65,13),l.Gc(66,"\n                        "),l.Ec(67,Gt,3,3,"th",10),l.Gc(68,"\n                        "),l.Ec(69,pt,2,1,"td",11),l.Gc(70,"\n                    "),l.Pb(),l.Gc(71,"\n                    "),l.Qb(72,14),l.Gc(73,"\n                        "),l.Ec(74,St,3,3,"th",10),l.Gc(75,"\n                        "),l.Ec(76,mt,4,2,"td",11),l.Gc(77,"\n                    "),l.Pb(),l.Gc(78,"\n                    "),l.Qb(79,15),l.Gc(80,"\n                        "),l.Ec(81,xt,10,6,"th",10),l.Gc(82,"\n                        "),l.Ec(83,wt,8,2,"td",11),l.Gc(84,"\n                    "),l.Pb(),l.Gc(85,"\n                    "),l.Qb(86,16),l.Gc(87,"\n                        "),l.Ec(88,vt,3,3,"th",10),l.Gc(89,"\n                        "),l.Ec(90,yt,10,4,"td",11),l.Gc(91,"\n                    "),l.Pb(),l.Gc(92,"\n                    "),l.Qb(93,17),l.Gc(94,"\n                        "),l.Ec(95,Ot,2,0,"th",10),l.Gc(96,"\n                        "),l.Ec(97,Mt,35,20,"td",11),l.Gc(98,"\n                    "),l.Pb(),l.Gc(99,"\n                    "),l.Ec(100,Tt,2,0,"tr",18),l.Gc(101,"\n                    "),l.Ec(102,Ft,1,4,"tr",19),l.Gc(103,"\n                "),l.Rb(),l.Gc(104,"\n            "),l.Rb(),l.Gc(105,"\n        "),l.Rb(),l.Gc(106,"\n    "),l.Rb(),l.Gc(107,"\n    "),l.Sb(108,"ct-section-footer"),l.Gc(109,"\n        "),l.Sb(110,"ct-section-footer-row"),l.Gc(111,"\n            "),l.Sb(112,"ct-flex",20),l.Gc(113,"\n                "),l.Sb(114,"ct-flex-item"),l.Gc(115,"\n                    "),l.Sb(116,"ct-table-pagination",21),l.ac("prev",(function(){return l.uc(t),l.ec().prevPage()}))("next",(function(){return l.uc(t),l.ec().nextPage()})),l.Rb(),l.Gc(117,"\n                "),l.Rb(),l.Gc(118,"\n\n                "),l.Ec(119,Pt,26,10,"ct-flex-item",0),l.Gc(120,"\n\n                "),l.Sb(121,"ct-flex-item"),l.Gc(122,"\n                    "),l.Ec(123,Ht,1,0,"ng-container",4),l.Gc(124,"\n                "),l.Rb(),l.Gc(125,"\n            "),l.Rb(),l.Gc(126,"\n        "),l.Rb(),l.Gc(127,"\n    "),l.Rb(),l.Gc(128,"\n"),l.Rb()}if(2&t){const t=l.ec(),c=l.sc(3);l.Ab(11),l.Ic("",l.gc(12,13,"batch.Batch")," "),l.Ab(10),l.kc("ngTemplateOutlet",c),l.Ab(5),l.kc("disabled",!1),l.Ab(2),l.kc("ngIf",t.isFiltered),l.Ab(2),l.kc("ngIf",!t.isFiltered),l.Ab(3),l.Hc(l.gc(34,15,"batch.onlyMyBatches")),l.Ab(14),l.kc("isWaiting",t.isLoading),l.Ab(2),l.kc("dataSource",t.dataSource),l.Ab(51),l.kc("matHeaderRowDef",t.columnsToDisplay),l.Ab(2),l.kc("matRowDefColumns",t.columnsToDisplay),l.Ab(14),l.kc("pageableDefault",t.batchesResult.batches),l.Ab(3),l.kc("ngIf",t.countOfSelectedRows()),l.Ab(4),l.kc("ngTemplateOutlet",c)}}function Bt(t,c){1&t&&(l.Gc(0,"\n    "),l.Sb(1,"button",35),l.Gc(2),l.fc(3,"translate"),l.Rb(),l.Gc(4,"\n")),2&t&&(l.Ab(1),l.kc("disabled",!1),l.Ab(1),l.Ic("\n        ",l.gc(3,2,"batch.Upload files and start processing"),""))}function qt(t,c){1&t&&(l.Gc(0,"\n    "),l.Sb(1,"button",35),l.Gc(2),l.fc(3,"translate"),l.Rb(),l.Gc(4,"\n")),2&t&&(l.Ab(1),l.kc("disabled",!1),l.Ab(1),l.Ic("\n        ",l.gc(3,2,"batch.Upload files and start processing"),""))}let Ut=(()=>{class t extends v.a{constructor(t,c,e,n,a){super(c),this.batchService=t,this.authenticationService=c,this.dialog=e,this.translate=n,this.batchExexStatusService=a,this.subs=[],this.dataSource=new X.k([]),this.columnsToDisplay=["id","createdOn","Owner","isBatchConsistent","sourceCode","execState","bts"]}ngOnInit(){this.updateTable("0",this.isFiltered),this.subs.push(this.batchExexStatusService.getStatuses.subscribe({next:t=>{this.batchExexStatusService.updateBatchesResultByStatuses(this.batchesResult,t)}}))}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe())}updateTable(t,c){this.isLoading=!0,this.batchService.batches(t,c).subscribe({next:t=>{this.batchesResult=t,this.columnsToDisplay=this.authenticationService.isRoleOperator()?["id","createdOn","Owner","sourceCode","execState","bts"]:["id","createdOn","Owner","isBatchConsistent","sourceCode","execState","bts"],this.dataSource=new X.k(t.batches.content||[]),this.isLoading=!1}})}toggleFilter(){this.isFiltered=!this.isFiltered,this.updateTable("0",this.isFiltered)}isDeletedRow(t){return!1}delete(t,c){this.batchService.processResourceDeleteCommit(c.batch.id.toString()).subscribe({next:()=>{this.updateTable(this.batchesResult.batches.number.toString(),this.isFiltered)}})}downloadFile(t,c){t.stopPropagation(),this.batchService.downloadFile(c).subscribe(t=>{var c,e,n;const a=null===(n=null===(e=null===(c=t.headers.get("Content-Disposition"))||void 0===c?void 0:c.split)||void 0===e?void 0:e.call(c,"''"))||void 0===n?void 0:n[1];tt.saveAs(t.body,a||"result.zip")})}downloadSelectedRows(){this.batchService.batchDownloader.download()}discardSelectedRows(){this.batchService.batchDownloader.clear()}isSelectedRow(t){return this.batchService.batchDownloader.isSelected(t)}selectRow(t,c){t.stopPropagation(),c.ok&&c.execState===ct.a.Finished&&this.batchService.batchDownloader.toggle(c)}countOfSelectedRows(){return this.batchService.batchDownloader.size}nextPage(){this.updateTable((this.batchesResult.batches.number+1).toString(),this.isFiltered)}prevPage(){this.updateTable((this.batchesResult.batches.number-1).toString(),this.isFiltered)}}return t.\u0275fac=function(c){return new(c||t)(l.Mb(r.a),l.Mb(k.AuthenticationService),l.Mb(et.b),l.Mb(s.d),l.Mb(nt.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["batch-list"]],features:[l.xb],decls:7,vars:1,consts:[[4,"ngIf"],["uploadFilesButton",""],["justify-content","space-between","align-items","center","gap","unit(1)"],["justify-content","flex-end","align-items","center","gap","unit(1)"],[4,"ngTemplateOutlet"],["mat-stroked-button","",3,"disabled","click"],["style","vertical-align: baseline;",4,"ngIf"],[3,"isWaiting"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","Owner"],["matColumnDef","isBatchConsistent"],["matColumnDef","sourceCode"],["matColumnDef","execState"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"deleted-table-row","selected-color","click",4,"matRowDef","matRowDefColumns"],["justify-content","space-between","align-items","center"],[3,"pageableDefault","prev","next"],[2,"vertical-align","baseline"],["mat-header-cell",""],["mat-cell",""],[1,"no-wrap"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","routerLink"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","click"],["mat-flat-button","","color","warn","size","forTableRow","title","Delete",3,"click"],["mat-header-row",""],["mat-row","",3,"click"],["justify-content","center","align-items","center","gap","unit(1)"],[1,"selected-count"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","primary","routerLink","/batch/add",3,"disabled"]],template:function(t,c){1&t&&(l.Ec(0,jt,129,17,"ct-section",0),l.Gc(1,"\n\n\n\n"),l.Ec(2,Bt,5,4,"ng-template",null,1,l.Fc),l.Gc(4,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"),l.Ec(5,qt,5,4,"ng-template",null,1,l.Fc)),2&t&&l.kc("ngIf",c.batchesResult)},directives:[n.m,d.a,u.a,h.a,F.a,P.a,f.a,n.r,H.b,G.a,p.a,at.a,X.j,X.c,X.e,X.b,X.g,X.i,M.a,T.a,it.a,X.d,X.a,i.d,st.a,X.f,X.h],pipes:[s.c,n.e],styles:[".selected-color[_ngcontent-%COMP%], .selected-count[_ngcontent-%COMP%]{background:rgba(255,193,7,.18)}.selected-count[_ngcontent-%COMP%]{border-radius:4px;padding:10px 20px 8px}"]}),function(t,c,e,n){var a,i=arguments.length,s=i<3?c:null===n?n=Object.getOwnPropertyDescriptor(c,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,c,e,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(c,e,s):a(c,e))||s);i>3&&s&&Object.defineProperty(c,e,s)}([Object(Z.a)({question:(t,c)=>(t.stopPropagation(),{text:Object(Y.a)("batch.delete-dialog.Do you want to delete Batch _batchId_"),params:{batchId:c.batch.id}}),rejectTitle:""+Object(Y.a)("batch.delete-dialog.Cancel"),resolveTitle:""+Object(Y.a)("batch.delete-dialog.Delete")}),ot("design:type",Function),ot("design:paramtypes",[Event,Object]),ot("design:returntype",void 0)],t.prototype,"delete",null),t})();var Lt=e("iuQL");const Nt=[k.Role.Admin,k.Role.Data,k.Role.Manager,k.Role.Operator],zt=[{path:"",component:J,canActivate:[Lt.a],data:{requiredRoles:Nt},children:[{path:"",component:Ut,canActivate:[Lt.a],data:{requiredRoles:Nt}},{path:":batchId/status",component:x,canActivate:[Lt.a],data:{backConfig:["../","../"],requiredRoles:Nt}},{path:"add",component:N,canActivate:[Lt.a],data:{backConfig:["../"],requiredRoles:Nt}},{path:":batchId/source-code/:sourceCodeId/exec-context/:execContextId/state",component:W,canActivate:[Lt.a],data:{backConfig:["../","../","../","../","../","../"],requiredRoles:Nt}}]}];let $t=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(c){return new(c||t)},imports:[[i.g.forChild(zt)],i.g]}),t})(),Qt=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(c){return new(c||t)},imports:[[n.c,$t,z.a,o.a,a.g,a.o,K.a,s.b.forChild({})]]}),t})()}}]);