(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{gFOi:function(t,c,e){"use strict";e.r(c),e.d(c,"BatchRoutes",(function(){return $t})),e.d(c,"BatchRoutingModule",(function(){return Qt})),e.d(c,"BatchModule",(function(){return _t}));var n=e("ofXK"),a=e("3Pt+"),i=e("tyNb"),s=e("sYmb"),o=e("vCXQ"),b=e("u8e3"),r=e("Hz+5"),l=e("fXoL"),d=e("2ljo"),u=e("1P+h"),h=e("25/r"),f=e("Xc1m"),G=e("Ne1S"),p=e("Kt2f"),S=e("IRPT");function g(t,c){if(1&t&&(l.Tb(0,"ct-section-body-row"),l.Gc(1," \n      "),l.Tb(2,"ct-pre"),l.Gc(3),l.Sb(),l.Gc(4,"\n    "),l.Sb()),2&t){const t=l.ec();l.Bb(3),l.Hc(t.response.console)}}const m=function(t){return{batchId:t}},T=function(t,c){return[t,c]};let w=(()=>{class t{constructor(t,c,e){this.route=t,this.batchService=c,this.router=e,this.states=b.a,this.currentState=b.a.firstLoading}ngOnInit(){this.batchId=this.route.snapshot.paramMap.get("batchId"),this.updateResponse()}updateResponse(){this.batchService.getProcessingResourceStatus(this.batchId).subscribe(t=>{this.response=t,this.currentState=this.states.show})}}return t.\u0275fac=function(c){return new(c||t)(l.Nb(i.a),l.Nb(r.a),l.Nb(i.c))},t.\u0275cmp=l.Hb({type:t,selectors:[["batch-status"]],decls:21,vars:10,consts:[[4,"ngIf"]],template:function(t,c){1&t&&(l.Gc(0,"\n"),l.Tb(1,"ct-section"),l.Gc(2,"\n  "),l.Tb(3,"ct-section-header"),l.Gc(4,"\n    "),l.Tb(5,"ct-section-header-row"),l.Gc(6,"\n      "),l.Tb(7,"ct-heading"),l.Gc(8,"  \n        "),l.Tb(9,"div"),l.Gc(10),l.fc(11,"translate"),l.Sb(),l.Gc(12,"\n      "),l.Sb(),l.Gc(13,"\n    "),l.Sb(),l.Gc(14,"\n  "),l.Sb(),l.Gc(15,"\n  "),l.Tb(16,"ct-section-body"),l.Gc(17,"\n    "),l.Ec(18,g,5,1,"ct-section-body-row",0),l.Gc(19,"\n  "),l.Sb(),l.Gc(20,"\n"),l.Sb()),2&t&&(l.Bb(10),l.Ic("",l.hc(11,2,"batch-status.Status of execution of batch _batchId_",l.nc(5,m,c.batchId))," "),l.Bb(8),l.kc("ngIf",l.oc(7,T,c.states.wait,c.states.show).includes(c.currentState)))},directives:[d.a,u.a,h.a,f.a,G.a,n.m,p.a,S.a],pipes:[s.c],styles:["pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word}"]}),t})();var x=e("uB0V"),B=e("FzDw"),v=e("q4ZW"),k=e("LjSU"),C=e("MbdJ"),I=e("I6qf"),y=e("MI58"),R=e("kmnG"),O=e("d3UM"),D=e("PVyz"),E=e("FMVq"),F=e("V6TR"),H=e("CaYE"),M=e("No2e"),P=e("bTqV"),j=e("05qC"),N=e("FKr1");const U=["fileUpload"];function q(t,c){if(1&t&&(l.Tb(0,"div"),l.Gc(1,"\n                                "),l.Tb(2,"mat-option",11),l.Gc(3),l.Sb(),l.Gc(4,"\n                            "),l.Sb()),2&t){const t=c.$implicit;l.Bb(2),l.kc("value",t),l.Bb(1),l.Hc(t.uid)}}function L(t,c){if(1&t){const t=l.Ub();l.Tb(0,"ct-cols"),l.Gc(1,"\n    "),l.Tb(2,"ct-col",1),l.Gc(3,"\n        "),l.Tb(4,"ct-section"),l.Gc(5,"\n            "),l.Tb(6,"ct-section-header"),l.Gc(7,"\n                "),l.Tb(8,"ct-section-header-row"),l.Gc(9,"\n                    "),l.Tb(10,"ct-heading"),l.Gc(11),l.fc(12,"translate"),l.Sb(),l.Gc(13,"\n                "),l.Sb(),l.Gc(14,"\n            "),l.Sb(),l.Gc(15,"\n            "),l.Tb(16,"ct-section-body"),l.Gc(17,"\n                "),l.Tb(18,"ct-section-body-row"),l.Gc(19,"\n                    "),l.Tb(20,"mat-form-field",2),l.Gc(21,"\n                        "),l.Tb(22,"mat-label"),l.Gc(23),l.fc(24,"translate"),l.Sb(),l.Gc(25,"\n                        "),l.Tb(26,"mat-select",3),l.ac("ngModelChange",(function(c){return l.uc(t),l.ec().sourceCode=c})),l.Gc(27,"\n                            "),l.Ec(28,q,5,2,"div",4),l.Gc(29,"\n                        "),l.Sb(),l.Gc(30,"\n                        "),l.Tb(31,"mat-hint"),l.Gc(32),l.fc(33,"translate"),l.Sb(),l.Gc(34,"\n                    "),l.Sb(),l.Gc(35,"\n\n                    "),l.Ob(36,"br"),l.Gc(37,"\n                    "),l.Ob(38,"br"),l.Gc(39,"\n\n                    "),l.Tb(40,"div"),l.Gc(41,"\n                        "),l.Tb(42,"ct-file-upload",5,6),l.ac("changed",(function(){return l.uc(t),l.ec().fileUploadChanged()})),l.fc(44,"translate"),l.Gc(45,"\n                        "),l.Sb(),l.Gc(46,"\n                        "),l.Tb(47,"ct-hint"),l.Gc(48),l.fc(49,"translate"),l.Sb(),l.Gc(50,"\n                        "),l.Tb(51,"ct-hint"),l.Gc(52),l.fc(53,"translate"),l.Sb(),l.Gc(54,"\n                    "),l.Sb(),l.Gc(55,"\n                "),l.Sb(),l.Gc(56,"\n            "),l.Sb(),l.Gc(57,"\n            "),l.Tb(58,"ct-section-footer"),l.Gc(59,"\n                "),l.Tb(60,"ct-section-footer-row"),l.Gc(61,"\n                    "),l.Tb(62,"ct-flex",7),l.Gc(63,"\n                        "),l.Tb(64,"ct-flex-item"),l.Gc(65,"\n                            "),l.Tb(66,"button",8),l.ac("click",(function(){return l.uc(t),l.ec().back()})),l.Gc(67),l.fc(68,"translate"),l.Sb(),l.Gc(69,"\n                        "),l.Sb(),l.Gc(70,"\n                        "),l.Tb(71,"ct-flex-item"),l.Gc(72,"\n                            "),l.Tb(73,"button",9),l.ac("click",(function(){return l.uc(t),l.ec().upload()})),l.Gc(74),l.fc(75,"translate"),l.Sb(),l.Gc(76,"\n                        "),l.Sb(),l.Gc(77,"\n                    "),l.Sb(),l.Gc(78,"\n                "),l.Sb(),l.Gc(79,"\n            "),l.Sb(),l.Gc(80,"\n        "),l.Sb(),l.Gc(81,"\n    "),l.Sb(),l.Gc(82,"\n    "),l.Tb(83,"ct-col",1),l.Gc(84,"\n        "),l.Ob(85,"ct-rest-status",10),l.Gc(86,"\n    "),l.Sb(),l.Gc(87,"\n"),l.Sb()}if(2&t){const t=l.ec();l.Bb(11),l.Hc(l.gc(12,12,"batch-add.Upload file for processing")),l.Bb(12),l.Ic(" ",l.gc(24,14,"batch-add.List of Source Codes"),""),l.Bb(3),l.kc("ngModel",t.sourceCode),l.Bb(2),l.kc("ngForOf",t.listOfSourceCodes),l.Bb(4),l.Hc(l.gc(33,16,"batch-add.This is a required field.")),l.Bb(10),l.lc("buttonTitle",l.gc(44,18,"batch-add.Select File")),l.Bb(6),l.Hc(l.gc(49,20,"batch-add.This is a required field.")),l.Bb(4),l.Hc(l.gc(53,22,"batch-add.Only .xml and .zip files are supported")),l.Bb(15),l.Ic("\n                                ",l.gc(68,24,"batch-add.Cancel"),""),l.Bb(6),l.kc("disabled",!t.sourceCode||!t.file),l.Bb(1),l.Ic(" ",l.gc(75,26,"batch-add.Upload-File-button"),""),l.Bb(11),l.kc("content",t.uploadResponse)}}let z=(()=>{class t extends B.a{constructor(t,c,e,n,a,i){super(i),this.batchService=t,this.router=c,this.route=e,this.translate=n,this.settingsService=a,this.authenticationService=i,this.currentStates=new Set,this.listOfSourceCodes=[]}ngOnInit(){this.subscribeSubscription(this.settingsService.events.subscribe(t=>{t instanceof k.b&&this.translate.use(t.settings.language)})),this.updateResponse()}ngOnDestroy(){this.unsubscribeSubscriptions()}updateResponse(){this.batchService.batchAdd().subscribe(t=>{this.response=t,this.listOfSourceCodes=this.response.items})}back(){this.router.navigate(["../"],{relativeTo:this.route})}upload(){this.batchService.uploadFile(this.sourceCode.id.toString(),this.fileUpload.fileInput.nativeElement.files[0]).subscribe(t=>{t.status===x.a.OK&&this.back(),this.uploadResponse=t})}fileUploadChanged(){this.file=this.fileUpload.fileInput.nativeElement.files[0]||!1}}return t.\u0275fac=function(c){return new(c||t)(l.Nb(r.a),l.Nb(i.c),l.Nb(i.a),l.Nb(s.d),l.Nb(k.a),l.Nb(v.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["batch-add"]],viewQuery:function(t,c){var e;1&t&&l.Kc(U,!0),2&t&&l.rc(e=l.bc())&&(c.fileUpload=e.first)},features:[l.yb],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["appearance","outline"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["acceptTypes",".zip, .xml",3,"buttonTitle","changed"],["fileUpload",""],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"],[3,"value"]],template:function(t,c){1&t&&l.Ec(0,L,88,28,"ct-cols",0),2&t&&l.kc("ngIf",c.response)},directives:[n.m,I.a,y.a,d.a,u.a,h.a,f.a,G.a,p.a,R.b,R.f,O.a,a.l,a.o,n.l,R.e,C.a,D.a,E.a,F.a,H.a,M.a,P.b,j.a,N.n],pipes:[s.c],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();var $=e("9kxi"),Q=e("W8U/"),_=e("6Q+1"),A=e("qyGu");let K=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["batch-root"]],decls:8,vars:0,template:function(t,c){1&t&&(l.Tb(0,"ct-content"),l.Gc(1,"\n    "),l.Ob(2,"router-outlet"),l.Gc(3,"\n    "),l.Ob(4,"ct-back-button"),l.Gc(5,"\n    "),l.Ob(6,"copy-right"),l.Gc(7,"\n"),l.Sb())},directives:[Q.a,i.h,_.a,A.a],styles:[""]}),t})();var J=e("wIh8"),V=e("2qjw");let W=(()=>{class t{constructor(t){this.route=t,this.sourceCodeId=this.route.snapshot.paramMap.get("sourceCodeId"),this.execContextId=this.route.snapshot.paramMap.get("execContextId")}}return t.\u0275fac=function(c){return new(c||t)(l.Nb(i.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["batch-state"]],decls:19,vars:2,consts:[[3,"sourceCodeId","execContextId"]],template:function(t,c){1&t&&(l.Tb(0,"ct-section"),l.Gc(1,"\n    "),l.Tb(2,"ct-section-header"),l.Gc(3,"\n        "),l.Tb(4,"ct-section-header-row"),l.Gc(5,"\n            "),l.Tb(6,"ct-heading"),l.Gc(7,"State of Tasks"),l.Sb(),l.Gc(8,"\n        "),l.Sb(),l.Gc(9,"\n    "),l.Sb(),l.Gc(10,"\n    "),l.Tb(11,"ct-section-body"),l.Gc(12,"\n        "),l.Tb(13,"ct-section-body-row"),l.Gc(14,"\n            "),l.Ob(15,"ct-state-of-tasks",0),l.Gc(16,"\n        "),l.Sb(),l.Gc(17,"\n    "),l.Sb(),l.Gc(18,"\n"),l.Sb()),2&t&&(l.Bb(15),l.kc("sourceCodeId",c.sourceCodeId)("execContextId",c.execContextId))},directives:[d.a,u.a,h.a,f.a,G.a,p.a,V.a],styles:[""]}),t})();var X=e("+0xr"),Y=e("4u49"),Z=e("lJGJ"),tt=e("YcRZ"),ct=e("Iab2"),et=e("0IaG"),nt=e("LazG"),at=e("6xdO"),it=e("W7k4"),st=e("NFeN"),ot=function(t,c){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,c)};function bt(t,c){1&t&&l.Pb(0)}function rt(t,c){1&t&&(l.Tb(0,"span",22),l.Gc(1,"\u2713\xa0\xa0"),l.Sb())}function lt(t,c){1&t&&(l.Tb(0,"span",22),l.Gc(1,"\u2717\xa0\xa0"),l.Sb())}function dt(t,c){1&t&&(l.Tb(0,"th",23),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Hc(l.gc(2,1,"batch.Id")))}function ut(t,c){if(1&t&&(l.Tb(0,"td",24),l.Gc(1),l.Sb()),2&t){const t=c.$implicit;l.Bb(1),l.Ic("",t.batch.id," ")}}function ht(t,c){1&t&&(l.Tb(0,"th",23),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic("",l.gc(2,1,"batch.Created On"),"\n                        "))}function ft(t,c){if(1&t&&(l.Tb(0,"td",24),l.Gc(1),l.fc(2,"date"),l.Sb()),2&t){const t=c.$implicit;l.Bb(1),l.Ic("\n                            ",l.hc(2,1,t.batch.createdOn,"MMM d, yyyy, HH:mm:ss")," ")}}function Gt(t,c){1&t&&(l.Tb(0,"th",23),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic("",l.gc(2,1,"batch.Owner's username"),"\n                        "))}function pt(t,c){if(1&t&&(l.Tb(0,"td",24),l.Gc(1),l.Sb()),2&t){const t=c.$implicit;l.Bb(1),l.Hc(t.username)}}function St(t,c){1&t&&(l.Tb(0,"th",23),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic("\n                            ",l.gc(2,1,"batch.Is Batch Consistent?")," "))}function gt(t,c){1&t&&(l.Tb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Hc(l.gc(2,1,"batch.isBatchConsistent.true")))}function mt(t,c){1&t&&(l.Tb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Hc(l.gc(2,1,"batch.isBatchConsistent.false")))}function Tt(t,c){if(1&t&&(l.Tb(0,"td",24),l.Gc(1," "),l.Ec(2,gt,3,3,"span",0),l.Ec(3,mt,3,3,"span",0),l.Sb()),2&t){const t=c.$implicit;l.Bb(2),l.kc("ngIf",t.ok),l.Bb(1),l.kc("ngIf",!t.ok)}}function wt(t,c){1&t&&(l.Tb(0,"th",23),l.Gc(1,"\n                            "),l.Tb(2,"div",25),l.Gc(3),l.fc(4,"translate"),l.Sb(),l.Gc(5,"\n                            "),l.Tb(6,"div",25),l.Gc(7),l.fc(8,"translate"),l.Sb(),l.Gc(9,"\n                        "),l.Sb()),2&t&&(l.Bb(3),l.Hc(l.gc(4,2,"batch.Source Code")),l.Bb(4),l.Hc(l.gc(8,4,"batch.File name")))}function xt(t,c){if(1&t&&(l.Tb(0,"td",24),l.Gc(1,"\n                            "),l.Tb(2,"div",25),l.Gc(3),l.Sb(),l.Gc(4,"\n                            "),l.Tb(5,"div",25),l.Gc(6),l.Sb(),l.Gc(7,"\n                        "),l.Sb()),2&t){const t=c.$implicit;l.Bb(3),l.Hc(t.sourceCodeUid),l.Bb(3),l.Hc(t.uploadedFileName)}}function Bt(t,c){1&t&&(l.Tb(0,"th",23),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic(" ",l.gc(2,1,"batch.Exec State"),"\n                        "))}function vt(t,c){1&t&&(l.Tb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic("\n                                ",l.gc(2,1,"batch.isBatchConsistent.Error"),"\n                            "))}function kt(t,c){1&t&&(l.Tb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic("\n                                ",l.gc(2,1,"batch.isBatchConsistent.Preparing"),"\n                            "))}function Ct(t,c){1&t&&(l.Tb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic("\n                                ",l.gc(2,1,"batch.isBatchConsistent.Processing"),"\n                            "))}function It(t,c){1&t&&(l.Tb(0,"span"),l.Gc(1),l.fc(2,"translate"),l.Sb()),2&t&&(l.Bb(1),l.Ic("\n                                ",l.gc(2,1,"batch.isBatchConsistent.Finished"),"\n                            "))}function yt(t,c){if(1&t&&(l.Tb(0,"td",24),l.Gc(1,"\n                            "),l.Ec(2,vt,3,3,"span",0),l.Gc(3,"\n                            "),l.Ec(4,kt,3,3,"span",0),l.Gc(5,"\n                            "),l.Ec(6,Ct,3,3,"span",0),l.Gc(7,"\n                            "),l.Ec(8,It,3,3,"span",0),l.Gc(9,"\n                        "),l.Sb()),2&t){const t=c.$implicit;l.Bb(2),l.kc("ngIf",-1===t.execState),l.Bb(2),l.kc("ngIf",2===t.execState),l.Bb(2),l.kc("ngIf",3===t.execState),l.Bb(2),l.kc("ngIf",4===t.execState)}}function Rt(t,c){1&t&&(l.Tb(0,"th",23),l.Gc(1," "),l.Sb())}const Ot=function(t,c,e){return["/batch",t,"source-code",c,"exec-context",e,"state"]},Dt=function(t){return["/batch",t,"status"]};function Et(t,c){if(1&t){const t=l.Ub();l.Tb(0,"td",24),l.Gc(1,"\n                            "),l.Tb(2,"ct-flex",26),l.Gc(3,"\n                                "),l.Tb(4,"ct-flex-item"),l.Gc(5,"\n                                    "),l.Tb(6,"button",27),l.Gc(7),l.fc(8,"translate"),l.Sb(),l.Gc(9,"\n                                "),l.Sb(),l.Gc(10,"\n\n                                "),l.Tb(11,"ct-flex-item"),l.Gc(12,"\n                                    "),l.Tb(13,"button",27),l.Gc(14),l.fc(15,"translate"),l.Sb(),l.Gc(16,"\n                                "),l.Sb(),l.Gc(17,"\n\n                                "),l.Tb(18,"ct-flex-item"),l.Gc(19,"\n                                    "),l.Tb(20,"button",28),l.ac("click",(function(e){l.uc(t);const n=c.$implicit;return l.ec(2).downloadFile(e,n.batch.id)})),l.Gc(21),l.fc(22,"translate"),l.Sb(),l.Gc(23,"\n                                "),l.Sb(),l.Gc(24,"\n\n                                "),l.Tb(25,"ct-flex-item"),l.Gc(26,"\n                                    "),l.Tb(27,"button",29),l.ac("click",(function(e){l.uc(t);const n=c.$implicit;return l.ec(2).delete(e,n)})),l.Gc(28,"\n                                        "),l.Tb(29,"mat-icon"),l.Gc(30,"delete"),l.Sb(),l.Gc(31,"\n                                    "),l.Sb(),l.Gc(32,"\n                                "),l.Sb(),l.Gc(33,"\n                            "),l.Sb(),l.Gc(34,"\n                        "),l.Sb()}if(2&t){const t=c.$implicit;l.Bb(6),l.kc("disabled",t.execContextDeleted)("routerLink",l.pc(14,Ot,t.batch.id,t.batch.sourceCodeId,t.batch.execContextId)),l.Bb(1),l.Ic("\n                                        ",l.gc(8,8,"batch.Task states"),""),l.Bb(6),l.kc("disabled",4!==t.execState||t.execContextDeleted)("routerLink",l.nc(18,Dt,t.batch.id)),l.Bb(1),l.Ic("\n                                        ",l.gc(15,10,"batch.Status"),""),l.Bb(6),l.kc("disabled",4!==t.execState||t.execContextDeleted),l.Bb(1),l.Ic("\n                                        ",l.gc(22,12,"batch.Download Result"),"")}}function Ft(t,c){1&t&&(l.Tb(0,"tr",30),l.Gc(1," "),l.Sb())}function Ht(t,c){if(1&t){const t=l.Ub();l.Tb(0,"tr",31),l.ac("click",(function(e){l.uc(t);const n=c.$implicit;return l.ec(2).selectRow(e,n)})),l.Sb()}if(2&t){const t=c.$implicit,e=l.ec(2);l.Fb("deleted-table-row",e.isDeletedRow(t))("selected-color",e.isSelectedRow(t))}}function Mt(t,c){if(1&t){const t=l.Ub();l.Tb(0,"ct-flex-item"),l.Gc(1,"\n                    "),l.Tb(2,"ct-flex",32),l.Gc(3,"\n                        "),l.Tb(4,"ct-flex-item"),l.Gc(5,"\n                            "),l.Tb(6,"div",33),l.Gc(7),l.fc(8,"translate"),l.Sb(),l.Gc(9,"\n                        "),l.Sb(),l.Gc(10,"\n                        "),l.Tb(11,"ct-flex-item"),l.Gc(12,"\n                            "),l.Tb(13,"button",34),l.ac("click",(function(){return l.uc(t),l.ec(2).downloadSelectedRows()})),l.Gc(14),l.fc(15,"translate"),l.Sb(),l.Gc(16,"\n                        "),l.Sb(),l.Gc(17,"\n                        "),l.Tb(18,"ct-flex-item"),l.Gc(19,"\n                            "),l.Tb(20,"button",34),l.ac("click",(function(){return l.uc(t),l.ec(2).discardSelectedRows()})),l.Gc(21),l.fc(22,"translate"),l.Sb(),l.Gc(23,"\n                        "),l.Sb(),l.Gc(24,"\n                    "),l.Sb(),l.Gc(25,"\n                "),l.Sb()}if(2&t){const t=l.ec(2);l.Bb(7),l.Jc("\n                                ",l.gc(8,4,"batch.Batch")," \xd7 ",t.countOfSelectedRows(),"\n                            "),l.Bb(7),l.Hc(l.gc(15,6,"batch.Download")),l.Bb(7),l.Hc(l.gc(22,8,"batch.Discard"))}}function Pt(t,c){1&t&&l.Pb(0)}function jt(t,c){if(1&t){const t=l.Ub();l.Tb(0,"ct-section"),l.Gc(1,"\n    "),l.Tb(2,"ct-section-header"),l.Gc(3,"\n        "),l.Tb(4,"ct-section-header-row"),l.Gc(5,"\n            "),l.Tb(6,"ct-flex",2),l.Gc(7,"\n                "),l.Tb(8,"ct-flex-item"),l.Gc(9,"\n                    "),l.Tb(10,"ct-heading"),l.Gc(11),l.fc(12,"translate"),l.Sb(),l.Gc(13,"\n                "),l.Sb(),l.Gc(14,"\n                "),l.Tb(15,"ct-flex-item"),l.Gc(16,"\n                    "),l.Tb(17,"ct-flex",3),l.Gc(18,"\n                        "),l.Tb(19,"ct-flex-item"),l.Gc(20,"\n                            "),l.Ec(21,bt,1,0,"ng-container",4),l.Gc(22,"\n                        "),l.Sb(),l.Gc(23,"\n                        "),l.Tb(24,"ct-flex-item"),l.Gc(25,"\n                            "),l.Tb(26,"button",5),l.ac("click",(function(){return l.uc(t),l.ec().toggleFilter()})),l.Gc(27,"\n                                "),l.Ec(28,rt,2,0,"span",6),l.Gc(29,"\n                                "),l.Ec(30,lt,2,0,"span",6),l.Gc(31,"\n                                "),l.Tb(32,"span"),l.Gc(33),l.fc(34,"translate"),l.Sb(),l.Gc(35,"\n                            "),l.Sb(),l.Gc(36,"\n                        "),l.Sb(),l.Gc(37,"\n                    "),l.Sb(),l.Gc(38,"\n                "),l.Sb(),l.Gc(39,"\n            "),l.Sb(),l.Gc(40,"\n        "),l.Sb(),l.Gc(41,"\n    "),l.Sb(),l.Gc(42,"\n    "),l.Tb(43,"ct-section-body"),l.Gc(44,"\n        "),l.Tb(45,"ct-section-body-row"),l.Gc(46,"\n            "),l.Tb(47,"ct-table",7),l.Gc(48,"\n                "),l.Tb(49,"table",8),l.Gc(50,"\n                    "),l.Rb(51,9),l.Gc(52,"\n                        "),l.Ec(53,dt,3,3,"th",10),l.Gc(54,"\n                        "),l.Ec(55,ut,2,1,"td",11),l.Gc(56,"\n                    "),l.Qb(),l.Gc(57,"\n                    "),l.Rb(58,12),l.Gc(59,"\n                        "),l.Ec(60,ht,3,3,"th",10),l.Gc(61,"\n                        "),l.Ec(62,ft,3,4,"td",11),l.Gc(63,"\n                    "),l.Qb(),l.Gc(64,"\n                    "),l.Rb(65,13),l.Gc(66,"\n                        "),l.Ec(67,Gt,3,3,"th",10),l.Gc(68,"\n                        "),l.Ec(69,pt,2,1,"td",11),l.Gc(70,"\n                    "),l.Qb(),l.Gc(71,"\n                    "),l.Rb(72,14),l.Gc(73,"\n                        "),l.Ec(74,St,3,3,"th",10),l.Gc(75,"\n                        "),l.Ec(76,Tt,4,2,"td",11),l.Gc(77,"\n                    "),l.Qb(),l.Gc(78,"\n                    "),l.Rb(79,15),l.Gc(80,"\n                        "),l.Ec(81,wt,10,6,"th",10),l.Gc(82,"\n                        "),l.Ec(83,xt,8,2,"td",11),l.Gc(84,"\n                    "),l.Qb(),l.Gc(85,"\n                    "),l.Rb(86,16),l.Gc(87,"\n                        "),l.Ec(88,Bt,3,3,"th",10),l.Gc(89,"\n                        "),l.Ec(90,yt,10,4,"td",11),l.Gc(91,"\n                    "),l.Qb(),l.Gc(92,"\n                    "),l.Rb(93,17),l.Gc(94,"\n                        "),l.Ec(95,Rt,2,0,"th",10),l.Gc(96,"\n                        "),l.Ec(97,Et,35,20,"td",11),l.Gc(98,"\n                    "),l.Qb(),l.Gc(99,"\n                    "),l.Ec(100,Ft,2,0,"tr",18),l.Gc(101,"\n                    "),l.Ec(102,Ht,1,4,"tr",19),l.Gc(103,"\n                "),l.Sb(),l.Gc(104,"\n            "),l.Sb(),l.Gc(105,"\n        "),l.Sb(),l.Gc(106,"\n    "),l.Sb(),l.Gc(107,"\n    "),l.Tb(108,"ct-section-footer"),l.Gc(109,"\n        "),l.Tb(110,"ct-section-footer-row"),l.Gc(111,"\n            "),l.Tb(112,"ct-flex",20),l.Gc(113,"\n                "),l.Tb(114,"ct-flex-item"),l.Gc(115,"\n                    "),l.Tb(116,"ct-table-pagination",21),l.ac("prev",(function(){return l.uc(t),l.ec().prevPage()}))("next",(function(){return l.uc(t),l.ec().nextPage()})),l.Sb(),l.Gc(117,"\n                "),l.Sb(),l.Gc(118,"\n\n                "),l.Ec(119,Mt,26,10,"ct-flex-item",0),l.Gc(120,"\n\n                "),l.Tb(121,"ct-flex-item"),l.Gc(122,"\n                    "),l.Ec(123,Pt,1,0,"ng-container",4),l.Gc(124,"\n                "),l.Sb(),l.Gc(125,"\n            "),l.Sb(),l.Gc(126,"\n        "),l.Sb(),l.Gc(127,"\n    "),l.Sb(),l.Gc(128,"\n"),l.Sb()}if(2&t){const t=l.ec(),c=l.sc(3);l.Bb(11),l.Ic("",l.gc(12,13,"batch.Batch")," "),l.Bb(10),l.kc("ngTemplateOutlet",c),l.Bb(5),l.kc("disabled",!1),l.Bb(2),l.kc("ngIf",t.isFiltered),l.Bb(2),l.kc("ngIf",!t.isFiltered),l.Bb(3),l.Hc(l.gc(34,15,"batch.onlyMyBatches")),l.Bb(14),l.kc("isWaiting",t.isLoading),l.Bb(2),l.kc("dataSource",t.dataSource),l.Bb(51),l.kc("matHeaderRowDef",t.columnsToDisplay),l.Bb(2),l.kc("matRowDefColumns",t.columnsToDisplay),l.Bb(14),l.kc("pageableDefault",t.batchesResult.batches),l.Bb(3),l.kc("ngIf",t.countOfSelectedRows()),l.Bb(4),l.kc("ngTemplateOutlet",c)}}function Nt(t,c){1&t&&(l.Gc(0,"\n    "),l.Tb(1,"button",35),l.Gc(2),l.fc(3,"translate"),l.Sb(),l.Gc(4,"\n")),2&t&&(l.Bb(1),l.kc("disabled",!1),l.Bb(1),l.Ic("\n        ",l.gc(3,2,"batch.Upload files and start processing"),""))}function Ut(t,c){1&t&&(l.Gc(0,"\n    "),l.Tb(1,"button",35),l.Gc(2),l.fc(3,"translate"),l.Sb(),l.Gc(4,"\n")),2&t&&(l.Bb(1),l.kc("disabled",!1),l.Bb(1),l.Ic("\n        ",l.gc(3,2,"batch.Upload files and start processing"),""))}let qt=(()=>{class t extends B.a{constructor(t,c,e,n,a,i){super(c),this.batchService=t,this.authenticationService=c,this.dialog=e,this.translate=n,this.batchExexStatusService=a,this.settingsService=i,this.dataSource=new X.k([]),this.columnsToDisplay=["id","createdOn","Owner","isBatchConsistent","sourceCode","execState","bts"]}ngOnInit(){this.isFiltered=this.settingsService.events.value.settings.batchFilter,this.updateTable("0",this.isFiltered),this.subscribeSubscription(this.batchExexStatusService.getStatuses.subscribe({next:t=>{this.batchExexStatusService.updateBatchesResultByStatuses(this.batchesResult,t)}}))}ngOnDestroy(){this.unsubscribeSubscriptions()}updateTable(t,c){this.isLoading=!0,this.batchService.batches(t,c).subscribe({next:t=>{this.batchesResult=t,this.columnsToDisplay=this.authenticationService.isRoleOperator()?["id","createdOn","Owner","sourceCode","execState","bts"]:["id","createdOn","Owner","isBatchConsistent","sourceCode","execState","bts"],this.dataSource=new X.k(t.batches.content||[]),this.isLoading=!1}})}toggleFilter(){this.isFiltered=!this.isFiltered,this.settingsService.toggleBatchFilter(this.isFiltered),this.updateTable("0",this.isFiltered)}isDeletedRow(t){return!1}delete(t,c){this.batchService.processResourceDeleteCommit(c.batch.id.toString()).subscribe({next:()=>{this.updateTable(this.batchesResult.batches.number.toString(),this.isFiltered)}})}downloadFile(t,c){t.stopPropagation(),this.batchService.downloadFile(c).subscribe(t=>{var c,e,n;const a=null===(n=null===(e=null===(c=t.headers.get("Content-Disposition"))||void 0===c?void 0:c.split)||void 0===e?void 0:e.call(c,"''"))||void 0===n?void 0:n[1];ct.saveAs(t.body,a||"result.zip")})}downloadSelectedRows(){this.batchService.batchDownloader.download()}discardSelectedRows(){this.batchService.batchDownloader.clear()}isSelectedRow(t){return this.batchService.batchDownloader.isSelected(t)}selectRow(t,c){t.stopPropagation(),c.ok&&c.execState===tt.a.Finished&&this.batchService.batchDownloader.toggle(c)}countOfSelectedRows(){return this.batchService.batchDownloader.size}nextPage(){this.updateTable((this.batchesResult.batches.number+1).toString(),this.isFiltered)}prevPage(){this.updateTable((this.batchesResult.batches.number-1).toString(),this.isFiltered)}}return t.\u0275fac=function(c){return new(c||t)(l.Nb(r.a),l.Nb(v.a),l.Nb(et.b),l.Nb(s.d),l.Nb(nt.a),l.Nb(k.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["batch-list"]],features:[l.yb],decls:7,vars:1,consts:[[4,"ngIf"],["uploadFilesButton",""],["justify-content","space-between","align-items","center","gap","unit(1)"],["justify-content","flex-end","align-items","center","gap","unit(1)"],[4,"ngTemplateOutlet"],["mat-stroked-button","",3,"disabled","click"],["style","vertical-align: baseline;",4,"ngIf"],[3,"isWaiting"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","Owner"],["matColumnDef","isBatchConsistent"],["matColumnDef","sourceCode"],["matColumnDef","execState"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"deleted-table-row","selected-color","click",4,"matRowDef","matRowDefColumns"],["justify-content","space-between","align-items","center"],[3,"pageableDefault","prev","next"],[2,"vertical-align","baseline"],["mat-header-cell",""],["mat-cell",""],[1,"no-wrap"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","routerLink"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","click"],["mat-flat-button","","color","warn","size","forTableRow","title","Delete",3,"click"],["mat-header-row",""],["mat-row","",3,"click"],["justify-content","center","align-items","center","gap","unit(1)"],[1,"selected-count"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","primary","routerLink","/batch/add",3,"disabled"]],template:function(t,c){1&t&&(l.Ec(0,jt,129,17,"ct-section",0),l.Gc(1,"\n\n\n\n"),l.Ec(2,Nt,5,4,"ng-template",null,1,l.Fc),l.Gc(4,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"),l.Ec(5,Ut,5,4,"ng-template",null,1,l.Fc)),2&t&&l.kc("ngIf",c.batchesResult)},directives:[n.m,d.a,u.a,h.a,H.a,M.a,f.a,n.r,P.b,G.a,p.a,at.a,X.j,X.c,X.e,X.b,X.g,X.i,E.a,F.a,it.a,X.d,X.a,i.d,st.a,X.f,X.h],pipes:[s.c,n.e],styles:[".selected-color[_ngcontent-%COMP%], .selected-count[_ngcontent-%COMP%]{background:rgba(255,193,7,.18)}.selected-count[_ngcontent-%COMP%]{border-radius:4px;padding:10px 20px 8px}"]}),function(t,c,e,n){var a,i=arguments.length,s=i<3?c:null===n?n=Object.getOwnPropertyDescriptor(c,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,c,e,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(c,e,s):a(c,e))||s);i>3&&s&&Object.defineProperty(c,e,s)}([Object(Z.a)({question:(t,c)=>(t.stopPropagation(),{text:Object(Y.a)("batch.delete-dialog.Do you want to delete Batch _batchId_"),params:{batchId:c.batch.id}}),rejectTitle:""+Object(Y.a)("batch.delete-dialog.Cancel"),resolveTitle:""+Object(Y.a)("batch.delete-dialog.Delete")}),ot("design:type",Function),ot("design:paramtypes",[Event,Object]),ot("design:returntype",void 0)],t.prototype,"delete",null),t})();var Lt=e("iuQL");const zt=[v.e.Admin,v.e.Data,v.e.Manager,v.e.Operator],$t=[{path:"",component:K,canActivate:[Lt.a],data:{requiredRoles:zt},children:[{path:"",component:qt,canActivate:[Lt.a],data:{requiredRoles:zt}},{path:":batchId/status",component:w,canActivate:[Lt.a],data:{backConfig:["../","../"],requiredRoles:zt}},{path:"add",component:z,canActivate:[Lt.a],data:{backConfig:["../"],requiredRoles:zt}},{path:":batchId/source-code/:sourceCodeId/exec-context/:execContextId/state",component:W,canActivate:[Lt.a],data:{backConfig:["../","../","../","../","../","../"],requiredRoles:zt}}]}];let Qt=(()=>{class t{}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(c){return new(c||t)},imports:[[i.g.forChild($t)],i.g]}),t})(),_t=(()=>{class t{}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(c){return new(c||t)},imports:[[n.c,Qt,$.a,o.a,a.h,a.p,J.a,s.b.forChild({})]]}),t})()}}]);