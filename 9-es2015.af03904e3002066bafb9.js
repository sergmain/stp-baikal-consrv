(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"05qC":function(t,c,e){"use strict";e.d(c,"a",(function(){return f}));var n=e("fXoL"),a=e("ofXK"),o=e("2ljo"),i=e("Ne1S"),s=e("Kt2f"),b=e("Xc1m");function r(t,c){if(1&t&&(n.Tb(0,"ct-section-body-row"),n.Gc(1,"\n            "),n.Tb(2,"div",1),n.Gc(3,"STATUS:"),n.Sb(),n.Gc(4,"\n            "),n.Tb(5,"ct-heading"),n.Gc(6),n.Sb(),n.Gc(7,"\n        "),n.Sb()),2&t){const t=n.ec(2);n.Bb(6),n.Hc(t.content.status)}}function l(t,c){if(1&t&&(n.Tb(0,"ct-section-body-row"),n.Gc(1,"\n            "),n.Tb(2,"div",1),n.Gc(3,"STATUS:"),n.Sb(),n.Gc(4,"\n            "),n.Tb(5,"ct-heading"),n.Gc(6),n.Sb(),n.Gc(7,"\n        "),n.Sb()),2&t){const t=n.ec(2);n.Bb(6),n.Hc(t.content.validationResult.status)}}function u(t,c){if(1&t&&(n.Tb(0,"li"),n.Gc(1),n.Sb()),2&t){const t=c.$implicit;n.Bb(1),n.Hc(t)}}function d(t,c){if(1&t&&(n.Tb(0,"ct-section-body-row"),n.Gc(1,"\n            "),n.Tb(2,"div",1),n.Gc(3,"ERRORS:"),n.Sb(),n.Gc(4,"\n            "),n.Tb(5,"ul",2),n.Gc(6,"\n                "),n.Ec(7,u,2,1,"li",3),n.Gc(8,"\n            "),n.Sb(),n.Gc(9,"\n        "),n.Sb()),2&t){const t=n.ec(2);n.Bb(7),n.kc("ngForOf",t.content.errorMessages)}}function m(t,c){if(1&t&&(n.Tb(0,"li"),n.Gc(1),n.Sb()),2&t){const t=c.$implicit;n.Bb(1),n.Hc(t)}}function p(t,c){if(1&t&&(n.Tb(0,"ct-section-body-row"),n.Gc(1,"\n            "),n.Tb(2,"div",1),n.Gc(3,"INFO:"),n.Sb(),n.Gc(4,"\n            "),n.Tb(5,"ul",2),n.Gc(6,"\n                "),n.Ec(7,m,2,1,"li",3),n.Gc(8,"\n            "),n.Sb(),n.Gc(9,"\n        "),n.Sb()),2&t){const t=n.ec(2);n.Bb(7),n.kc("ngForOf",t.content.infoMessages)}}function h(t,c){if(1&t&&(n.Tb(0,"ct-section"),n.Gc(1,"\n    "),n.Tb(2,"ct-section-body"),n.Gc(3,"\n        "),n.Ec(4,r,8,1,"ct-section-body-row",0),n.Gc(5,"\n\n        "),n.Ec(6,l,8,1,"ct-section-body-row",0),n.Gc(7,"\n\n        "),n.Ec(8,d,10,1,"ct-section-body-row",0),n.Gc(9,"\n\n        "),n.Ec(10,p,10,1,"ct-section-body-row",0),n.Gc(11,"\n    "),n.Sb(),n.Gc(12,"\n"),n.Sb()),2&t){const t=n.ec();n.Bb(4),n.kc("ngIf",t.content.status),n.Bb(2),n.kc("ngIf",t.content.validationResult),n.Bb(2),n.kc("ngIf",null==t.content.errorMessages?null:t.content.errorMessages.length),n.Bb(2),n.kc("ngIf",null==t.content.infoMessages?null:t.content.infoMessages.length)}}let f=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=n.Hb({type:t,selectors:[["ct-rest-status"]],inputs:{content:"content"},decls:1,vars:1,consts:[[4,"ngIf"],[2,"font-size","75%","opacity","0.75"],[1,"code"],[4,"ngFor","ngForOf"]],template:function(t,c){1&t&&n.Ec(0,h,13,4,"ct-section",0),2&t&&n.kc("ngIf",c.content)},directives:[a.m,o.a,i.a,s.a,b.a,a.l],styles:[".code[_ngcontent-%COMP%]{font-size:75%;line-height:1.8;font-family:Courier New,Courier,monospace}"]}),t})()},"6xdO":function(t,c,e){"use strict";e.d(c,"a",(function(){return i}));var n=e("fXoL"),a=e("Xa2L");const o=["*"];let i=(()=>{class t{constructor(t){this.changeDetector=t,this.state={wait:!1}}ngOnInit(){void 0===this.isWaiting?this.isFnMode=!0:(this.isFnMode=!1,this.state.wait=this.isWaiting)}ngOnDestroy(){this.changeDetector.detach()}ngOnChanges(){this.isFnMode||(this.state.wait=this.isWaiting)}wait(){this.isFnMode&&(this.state.wait=!0,this.changeDetector.destroyed||this.changeDetector.detectChanges())}show(){this.isFnMode&&(this.state.wait=!1,this.changeDetector.destroyed||this.changeDetector.detectChanges())}}return t.\u0275fac=function(c){return new(c||t)(n.Nb(n.h))},t.\u0275cmp=n.Hb({type:t,selectors:[["ct-table"]],inputs:{isWaiting:"isWaiting"},features:[n.zb],ngContentSelectors:o,decls:12,vars:2,consts:[[1,"ct-table"],[1,"ct-table__body"],[1,"ct-table__wait"]],template:function(t,c){1&t&&(n.jc(),n.Tb(0,"div",0),n.Gc(1,"\n    "),n.Tb(2,"div",1),n.Gc(3,"\n        "),n.ic(4),n.Gc(5,"\n    "),n.Sb(),n.Gc(6,"\n    "),n.Tb(7,"div",2),n.Gc(8,"\n        "),n.Ob(9,"mat-spinner"),n.Gc(10,"\n    "),n.Sb(),n.Gc(11,"\n"),n.Sb()),2&t&&n.Fb("ct-table--wait",c.state.wait)},directives:[a.b],styles:["[_nghost-%COMP%]{display:block;position:relative;margin:0;overflow-y:auto}[_nghost-%COMP%]     .mat-table{width:100%;border-collapse:collapse;background:none}[_nghost-%COMP%]     .mat-header-row{height:auto}[_nghost-%COMP%]     .mat-cell, [_nghost-%COMP%]     .mat-footer-cell, [_nghost-%COMP%]     .mat-header-cell{border-bottom-width:1px;border-bottom-style:solid;border-top-width:1px;border-top-style:solid;padding:9px;font-family:Roboto Condensed,sans-serif;font-size:14.94px;line-height:18px}[_nghost-%COMP%]     .mat-header-cell{white-space:nowrap;font-weight:700;vertical-align:baseline;color:inherit}[_nghost-%COMP%]     .mat-cell{vertical-align:baseline}[_nghost-%COMP%]     .mat-cell:first-child, [_nghost-%COMP%]     .mat-header-cell:first-child{padding-left:9px}[_nghost-%COMP%]     .mat-cell:last-child, [_nghost-%COMP%]     .mat-header-cell:last-child{padding-right:9px}[_nghost-%COMP%]     .mat-row{height:auto}.light-theme[_nghost-%COMP%]     .mat-cell, .light-theme   [_nghost-%COMP%]     .mat-cell, .light-theme[_nghost-%COMP%]     .mat-footer-cell, .light-theme   [_nghost-%COMP%]     .mat-footer-cell, .light-theme[_nghost-%COMP%]     .mat-header-cell, .light-theme   [_nghost-%COMP%]     .mat-header-cell{border-top-color:#f0f0f0;border-bottom-color:#f0f0f0}.dark-theme[_nghost-%COMP%]     .mat-cell, .dark-theme   [_nghost-%COMP%]     .mat-cell, .dark-theme[_nghost-%COMP%]     .mat-footer-cell, .dark-theme   [_nghost-%COMP%]     .mat-footer-cell, .dark-theme[_nghost-%COMP%]     .mat-header-cell, .dark-theme   [_nghost-%COMP%]     .mat-header-cell{border-top-color:#474747;border-bottom-color:#474747}.ct-table[_ngcontent-%COMP%]{position:relative}.ct-table__wait[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background-color:hsla(0,0%,100%,.1);overflow:hidden}.ct-table--wait[_ngcontent-%COMP%]   .ct-table__body[_ngcontent-%COMP%]{opacity:.5}.ct-table--wait[_ngcontent-%COMP%]   .ct-table__wait[_ngcontent-%COMP%]{display:flex}"]}),t})()},W7k4:function(t,c,e){"use strict";e.d(c,"a",(function(){return l}));var n=e("fXoL"),a=e("ofXK"),o=e("CaYE"),i=e("No2e"),s=e("bTqV"),b=e("NFeN");function r(t,c){if(1&t){const t=n.Ub();n.Tb(0,"ct-flex",1),n.Gc(1,"\n    "),n.Tb(2,"ct-flex-item"),n.Gc(3,"\n        "),n.Tb(4,"button",2),n.ac("click",(function(){return n.uc(t),n.ec()._prev()})),n.Gc(5,"\n            "),n.Tb(6,"mat-icon"),n.Gc(7,"arrow_back_ios"),n.Sb(),n.Gc(8,"\n        "),n.Sb(),n.Gc(9,"\n    "),n.Sb(),n.Gc(10,"\n    "),n.Tb(11,"ct-flex-item"),n.Gc(12,"\n        "),n.Tb(13,"button",2),n.ac("click",(function(){return n.uc(t),n.ec()._next()})),n.Gc(14,"\n            "),n.Tb(15,"mat-icon"),n.Gc(16,"arrow_forward_ios"),n.Sb(),n.Gc(17,"\n        "),n.Sb(),n.Gc(18,"\n    "),n.Sb(),n.Gc(19,"\n"),n.Sb()}if(2&t){const t=n.ec();n.Bb(4),n.kc("disabled",t.globalDisable||t.pageableDefault.first),n.Bb(9),n.kc("disabled",t.globalDisable||t.pageableDefault.last)}}let l=(()=>{class t{constructor(){this.next=new n.o,this.prev=new n.o}_next(){this.next.emit()}_prev(){this.prev.emit()}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=n.Hb({type:t,selectors:[["ct-table-pagination"]],inputs:{globalDisable:"globalDisable",pageableDefault:"pageableDefault"},outputs:{next:"next",prev:"prev"},decls:1,vars:1,consts:[["justify-content","flex-start","gap","8px",4,"ngIf"],["justify-content","flex-start","gap","8px"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,c){1&t&&n.Ec(0,r,20,2,"ct-flex",0),2&t&&n.kc("ngIf",c.pageableDefault)},directives:[a.m,o.a,i.a,s.b,b.a],styles:[""]}),t})()},lJGJ:function(t,c,e){"use strict";e.d(c,"a",(function(){return b}));var n=e("0IaG"),a=e("cp0P"),o=e("fXoL"),i=e("bTqV");let s=(()=>{class t{constructor(t,c){this.dialogRef=t,this.data=c}onNoClick(){this.dialogRef.close(0)}onYesClick(){this.dialogRef.close(1)}}return t.\u0275fac=function(c){return new(c||t)(o.Nb(n.g),o.Nb(n.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-dialog-confirmation"]],decls:19,vars:3,consts:[[1,"mat-dialog-content"],[1,"mat-dialog-actions"],[1,"mat-dialog-action"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","warn",3,"click"]],template:function(t,c){1&t&&(o.Tb(0,"div",0),o.Gc(1),o.Sb(),o.Ob(2,"br"),o.Gc(3,"\n"),o.Tb(4,"div",1),o.Gc(5,"\n  "),o.Tb(6,"div",2),o.Gc(7,"\n    "),o.Tb(8,"button",3),o.ac("click",(function(){return c.onNoClick()})),o.Gc(9),o.Sb(),o.Gc(10,"\n  "),o.Sb(),o.Gc(11,"\n  "),o.Tb(12,"div",2),o.Gc(13,"\n    "),o.Tb(14,"button",4),o.ac("click",(function(){return c.onYesClick()})),o.Gc(15),o.Sb(),o.Gc(16,"\n  "),o.Sb(),o.Gc(17,"\n"),o.Sb(),o.Gc(18," ")),2&t&&(o.Bb(1),o.Hc(c.data.question),o.Bb(8),o.Hc(c.data.rejectTitle),o.Bb(6),o.Hc(c.data.resolveTitle))},directives:[i.b],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 -8px}.mat-dialog-action[_ngcontent-%COMP%]{flex:1;margin:0 8px}.mat-dialog-action[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.mat-dialog-content[_ngcontent-%COMP%]{max-height:auto!important;overflow:hidden!important}"]}),t})();function b(t){return function(c,e,n){const o=n.value;return n.value=function(...c){let e={text:"",params:!1};"string"==typeof t.question(...c)?e.text=t.question(...c):e=t.question(...c),this.dialog||function(){throw new Error("\ncomponent require MatDialog\n\nimport { MatDialog } from '@angular/material';\n...\nconstructor(\n    ...\n    private dialog: MatDialog\n    ...\n) {}\n                ")}(),e.params&&!this.translate&&function(){throw new Error("\ncomponent require TranslateService\n\nimport { TranslateService } from '@ngx-translate/core';\n...\nconstructor(\n    ...\n    private translate: TranslateService\n    ...\n) {}\n                ")}(),this.translate?Object(a.a)(this.translate.get(e.text,e.params),this.translate.get(t.resolveTitle),this.translate.get(t.rejectTitle)).subscribe(t=>{this.dialog.open(s,{width:"500px",data:{question:t[0],resolveTitle:t[1],rejectTitle:t[2]}}).afterClosed().subscribe(t=>{t&&o.apply(this,c)})}):this.dialog.open(s,{width:"500px",data:{question:e.text,resolveTitle:t.resolveTitle,rejectTitle:t.rejectTitle}}).afterClosed().subscribe(t=>{t&&o.apply(this,c)})},n}}},pYoV:function(t,c,e){"use strict";e.r(c),e.d(c,"CompanyRoutes",(function(){return pe})),e.d(c,"CompanyRoutingModule",(function(){return he})),e.d(c,"CompnyModule",(function(){return fe}));var n=e("ofXK"),a=e("tyNb"),o=e("sYmb"),i=e("9kxi"),s=e("vCXQ"),b=e("fXoL");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=b.Hb({type:t,selectors:[["company"]],decls:3,vars:0,template:function(t,c){1&t&&(b.Tb(0,"p"),b.Gc(1,"company works!"),b.Sb(),b.Gc(2,"\n"))},styles:[""]}),t})();var l=e("+0xr"),u=e("FzDw"),d=e("q4ZW"),m=e("tk/3"),p=e("bzsW"),h=e("AytR"),f=e("HDdC"),G=e("Cfvw"),g=e("LRne"),S=e("xOOu"),T=e("bOdf"),y=e("JIr8"),w=e("Iab2");const k=t=>`${h.a.baseUrl}dispatcher/company/${t}`;let v=(()=>{class t{constructor(t){this.http=t,this.companies=t=>this.http.get(k("companies"),{params:{page:t}}),this.addFormCommitCompany=t=>this.http.post(k("company-add-commit"),Object(p.a)({companyName:t})),this.editCompany=t=>this.http.get(k("company-edit/"+t)),this.editFormCommitCompany=(t,c,e)=>this.http.post(k("company-edit-commit"),Object(p.a)({companyUniqueId:t,name:c,groups:e})),this.accounts=(t,c)=>this.http.get(k("company-accounts/"+c),{params:{page:t}}),this.addFormCommitNewAccount=(t,c)=>this.http.post(k("company-account-add-commit/"+c),t),this.edit=(t,c)=>this.http.get(k(`company-account-edit/${t}/${c}`)),this.editFormCommit=(t,c,e,n)=>this.http.post(k("company-account-edit-commit/"+n),Object(p.a)({id:t,publicName:c,enabled:e,companyUniqueId:n})),this.passwordEdit=(t,c)=>this.http.get(k(`company-account-password-edit/${c}/${t}`)),this.passwordEditFormCommit=(t,c,e,n)=>this.http.post(k("company-account-password-edit-commit/"+n),Object(p.a)({id:t,password:c,password2:e,companyUniqueId:n})),this.editRoles=(t,c)=>this.http.get(k(`company-account-edit-roles/${c}/${t}`)),this.rolesEditFormCommit=(t,c,e,n)=>this.http.post(k("company-account-edit-roles-commit/"+n),Object(p.a)({accountId:t,role:c,checkbox:e,companyId:n})),this.batches=(t,c)=>this.http.get(k("batch/company-batches/"+c),{params:{page:t}}),this.processBatchDelete=(t,c)=>this.http.get(k(`batch/company-batch-delete/${t}/${c}`)),this.processBatchDeleteCommit=(t,c)=>this.http.post(k("batch/company-batch-delete-commit/"+t),Object(p.a)({batchId:c})),this.processBatchesBulkDeleteCommit=(t,c)=>this.http.post(k("batch/company-batch-bulk-delete-commit/"+t),Object(p.a)({batchIds:c})),this.uploadFile=(t,c,e)=>this.http.post(k("batch/company-batch-upload-from-file/"+t),Object(p.a)({sourceCodeId:c,file:e})),this.getBatchStatus=(t,c)=>this.http.get(k(`batch/company-batch-status/${t}/${c}`)),this.downloadProcessingResult=(t,c)=>{let e=new m.d;return e=e.append("Accept","application/octet-stream"),this.http.get(k(`batch/company-batch-download-result/${t}/${c}`),{headers:e,observe:"response",responseType:"blob"})},this.downloadOriginFile=(t,c,e)=>{let n=new m.d;return n=n.append("Accept","application/octet-stream"),this.http.get(k(`batch/company-batch-download-origin-file/${t}/${c}/${e}`),{headers:n,observe:"response",responseType:"blob"})},this.sourceCodesForCompany=t=>this.http.get(k("batch/company-batch-source-codes/"+t))}downloadProcessingResults(t,c){const e="result "+t.toString()+".zip",n=new S,a=t.map(t=>({id:t.toString(),fileName:"empty",response:null,companyId:c}));return new f.a(t=>{Object(G.a)(a).pipe(Object(T.a)(t=>this.downloadProcessingResult(t.companyId,t.id).pipe(Object(y.a)(t=>Object(g.a)(t)),this.parseProcessableItemOperator(t)))).subscribe({next:t=>{},error:c=>t.error(c),complete:()=>{a.forEach(t=>{n.file(t.fileName,t.response.body)}),n.generateAsync({type:"blob"}).then(t=>{w.saveAs(t,e)}),t.next(!0),t.complete()}})})}parseProcessableItemOperator(t){return c=>new f.a(e=>c.subscribe({next:c=>{t.response=c,t.fileName=c.ok?t.id+".zip":t.id+" error",e.next()},error:t=>e.error(t),complete:()=>e.complete()}))}}return t.\u0275fac=function(c){return new(c||t)(b.Xb(m.b))},t.\u0275prov=b.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=e("J0F4"),I=e("2ljo"),R=e("1P+h"),x=e("25/r"),O=e("CaYE"),B=e("No2e"),M=e("Xc1m"),E=e("Ne1S"),D=e("Kt2f"),q=e("FMVq"),N=e("V6TR"),P=e("W7k4"),U=e("xAq4"),L=e("6xdO"),F=e("bTqV");function _(t,c){1&t&&b.Pb(0)}function j(t,c){if(1&t&&(b.Tb(0,"ct-flex-item"),b.Gc(1,"\n                    "),b.Ec(2,_,1,0,"ng-container",4),b.Gc(3,"\n                "),b.Sb()),2&t){b.ec(2);const t=b.sc(6);b.Bb(2),b.kc("ngTemplateOutlet",t)}}function $(t,c){1&t&&(b.Tb(0,"ct-section-header-row"),b.Gc(1,"\n            "),b.Tb(2,"ct-alert",6),b.Gc(3,"\n                Management of companies are disabled, assetMode is 'replicated'.\n            "),b.Sb(),b.Gc(4,"\n        "),b.Sb())}function A(t,c){1&t&&b.Pb(0)}function H(t,c){1&t&&b.Pb(0)}function Q(t,c){if(1&t&&(b.Tb(0,"ct-flex-item"),b.Gc(1,"\n                    "),b.Ec(2,H,1,0,"ng-container",4),b.Gc(3,"\n                "),b.Sb()),2&t){b.ec(2);const t=b.sc(6);b.Bb(2),b.kc("ngTemplateOutlet",t)}}function z(t,c){if(1&t){const t=b.Ub();b.Tb(0,"ct-section"),b.Gc(1,"\n    "),b.Tb(2,"ct-section-header"),b.Gc(3,"\n        "),b.Tb(4,"ct-section-header-row"),b.Gc(5,"\n            "),b.Tb(6,"ct-flex",3),b.Gc(7,"\n                "),b.Tb(8,"ct-flex-item"),b.Gc(9,"\n                    "),b.Tb(10,"ct-heading"),b.Gc(11,"Companies"),b.Sb(),b.Gc(12,"\n                "),b.Sb(),b.Gc(13,"\n                "),b.Ec(14,j,4,1,"ct-flex-item",0),b.Gc(15,"\n            "),b.Sb(),b.Gc(16,"\n        "),b.Sb(),b.Gc(17,"\n        "),b.Ec(18,$,5,0,"ct-section-header-row",0),b.Gc(19,"\n    "),b.Sb(),b.Gc(20,"\n    "),b.Tb(21,"ct-section-body"),b.Gc(22,"\n        "),b.Tb(23,"ct-section-body-row"),b.Gc(24,"\n            "),b.Ec(25,A,1,0,"ng-container",4),b.Gc(26,"\n        "),b.Sb(),b.Gc(27,"\n    "),b.Sb(),b.Gc(28,"\n    "),b.Tb(29,"ct-section-footer"),b.Gc(30,"\n        "),b.Tb(31,"ct-section-footer-row"),b.Gc(32,"\n            "),b.Tb(33,"ct-flex",3),b.Gc(34,"\n                "),b.Tb(35,"ct-flex-item"),b.Gc(36,"\n                    "),b.Tb(37,"ct-table-pagination",5),b.ac("prev",(function(){return b.uc(t),b.ec().prevPage()}))("next",(function(){return b.uc(t),b.ec().nextPage()})),b.Sb(),b.Gc(38,"\n                "),b.Sb(),b.Gc(39,"\n                "),b.Ec(40,Q,4,1,"ct-flex-item",0),b.Gc(41,"\n            "),b.Sb(),b.Gc(42,"\n        "),b.Sb(),b.Gc(43,"\n    "),b.Sb(),b.Gc(44,"\n"),b.Sb()}if(2&t){const t=b.ec(),c=b.sc(3);b.Bb(14),b.kc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.simpleCompaniesResult.assetMode)),b.Bb(4),b.kc("ngIf",t.dispatcherAssetModeService.isReplicated(t.simpleCompaniesResult.assetMode)),b.Bb(7),b.kc("ngTemplateOutlet",c),b.Bb(12),b.kc("pageableDefault",t.simpleCompaniesResult.companies),b.Bb(3),b.kc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.simpleCompaniesResult.assetMode))}}function W(t,c){1&t&&(b.Tb(0,"th",16),b.Gc(1,"Id"),b.Sb())}function K(t,c){if(1&t&&(b.Tb(0,"td",17),b.Gc(1),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("",t.uniqueId," ")}}function X(t,c){1&t&&(b.Tb(0,"th",16),b.Gc(1,"Name"),b.Sb())}function J(t,c){if(1&t&&(b.Tb(0,"td",17),b.Gc(1),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("",t.name," ")}}function V(t,c){1&t&&(b.Tb(0,"th",16),b.Gc(1," "),b.Sb())}const Y=function(t){return["../",t,"edit"]};function Z(t,c){if(1&t&&(b.Rb(0),b.Gc(1,"\n                                "),b.Tb(2,"ct-flex-item"),b.Gc(3,"\n                                    "),b.Tb(4,"a",19),b.Gc(5,"Edit"),b.Sb(),b.Gc(6,"\n                                "),b.Sb(),b.Gc(7,"\n                            "),b.Qb()),2&t){const t=b.ec(2).$implicit;b.Bb(4),b.kc("routerLink",b.nc(1,Y,t.uniqueId))}}function tt(t,c){if(1&t&&(b.Rb(0),b.Gc(1,"\n                            "),b.Ec(2,Z,8,3,"ng-container",0),b.Gc(3,"\n                        "),b.Qb()),2&t){const t=b.ec(3);b.Bb(2),b.kc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.simpleCompaniesResult.assetMode))}}const ct=function(t){return["../",t,"accounts"]};function et(t,c){if(1&t&&(b.Rb(0),b.Gc(1,"\n                            "),b.Tb(2,"ct-flex-item"),b.Gc(3,"\n                                "),b.Tb(4,"a",19),b.Gc(5,"Accounts"),b.Sb(),b.Gc(6,"\n                            "),b.Sb(),b.Gc(7,"\n                        "),b.Qb()),2&t){const t=b.ec().$implicit;b.Bb(4),b.kc("routerLink",b.nc(1,ct,t.uniqueId))}}const nt=function(t){return["../",t,"batches"]};function at(t,c){if(1&t&&(b.Rb(0),b.Gc(1,"\n                                "),b.Tb(2,"ct-flex-item"),b.Gc(3,"\n                                    "),b.Tb(4,"a",19),b.Gc(5,"Batches"),b.Sb(),b.Gc(6,"\n                                "),b.Sb(),b.Gc(7,"\n                            "),b.Qb()),2&t){const t=b.ec(2).$implicit;b.Bb(4),b.kc("routerLink",b.nc(1,nt,t.uniqueId))}}function ot(t,c){if(1&t&&(b.Rb(0),b.Gc(1,"\n                            "),b.Ec(2,at,8,3,"ng-container",0),b.Gc(3,"\n                        "),b.Qb()),2&t){const t=b.ec().$implicit;b.Bb(2),b.kc("ngIf",1!==t.id)}}function it(t,c){if(1&t&&(b.Tb(0,"td",17),b.Gc(1,"\n                    "),b.Tb(2,"ct-flex",18),b.Gc(3,"\n                        "),b.Ec(4,tt,4,1,"ng-container",0),b.Gc(5,"\n\n                        "),b.Ec(6,et,8,3,"ng-container",0),b.Gc(7,"\n\n                        "),b.Ec(8,ot,4,1,"ng-container",0),b.Gc(9,"\n                    "),b.Sb(),b.Gc(10,"\n                "),b.Sb()),2&t){const t=b.ec(2);b.Bb(4),b.kc("ngIf",t.authenticationService.isRoleMasterAdmin()),b.Bb(2),b.kc("ngIf",t.authenticationService.isRoleMasterAdmin()),b.Bb(2),b.kc("ngIf",t.authenticationService.isRoleMasterOperator()||t.authenticationService.isRoleMasterSupport())}}function st(t,c){1&t&&b.Ob(0,"tr",20)}function bt(t,c){1&t&&b.Ob(0,"tr",21)}function rt(t,c){if(1&t&&(b.Gc(0,"\n    "),b.Tb(1,"ct-table",7),b.Gc(2,"\n        "),b.Tb(3,"table",8),b.Gc(4,"\n            "),b.Rb(5,9),b.Gc(6,"\n                "),b.Ec(7,W,2,0,"th",10),b.Gc(8,"\n                "),b.Ec(9,K,2,1,"td",11),b.Gc(10,"\n            "),b.Qb(),b.Gc(11,"\n            "),b.Rb(12,12),b.Gc(13,"\n                "),b.Ec(14,X,2,0,"th",10),b.Gc(15,"\n                "),b.Ec(16,J,2,1,"td",11),b.Gc(17,"\n            "),b.Qb(),b.Gc(18,"\n            "),b.Rb(19,13),b.Gc(20,"\n                "),b.Ec(21,V,2,0,"th",10),b.Gc(22,"\n                "),b.Ec(23,it,11,3,"td",11),b.Gc(24,"\n            "),b.Qb(),b.Gc(25,"\n            "),b.Ec(26,st,1,0,"tr",14),b.Gc(27,"\n            "),b.Ec(28,bt,1,0,"tr",15),b.Gc(29,"\n        "),b.Sb(),b.Gc(30,"\n    "),b.Sb(),b.Gc(31,"\n")),2&t){const t=b.ec();b.Bb(1),b.kc("isWaiting",t.isLoading),b.Bb(2),b.kc("dataSource",t.dataSource),b.Bb(23),b.kc("matHeaderRowDef",t.columnsToDisplay),b.Bb(2),b.kc("matRowDefColumns",t.columnsToDisplay)}}function lt(t,c){1&t&&(b.Gc(0,"\n    "),b.Tb(1,"button",22),b.Gc(2," Add New Company "),b.Sb(),b.Gc(3,"\n"))}let ut=(()=>{class t extends u.a{constructor(t,c,e){super(t),this.authenticationService=t,this.companyService=c,this.dispatcherAssetModeService=e,this.columnsToDisplay=["uniqueId","name","bts"],this.dataSource=new l.k([])}ngOnInit(){this.updateTable(0)}updateTable(t){this.setIsLoadingStart(),this.companyService.companies(t.toString()).subscribe({next:t=>{this.simpleCompaniesResult=t,this.dataSource=new l.k(this.simpleCompaniesResult.companies.content)},complete:()=>{this.setIsLoadingEnd()}})}prevPage(){this.updateTable(this.simpleCompaniesResult.companies.number-1)}nextPage(){this.updateTable(this.simpleCompaniesResult.companies.number+1)}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(d.a),b.Nb(v),b.Nb(C.a))},t.\u0275cmp=b.Hb({type:t,selectors:[["companies"]],features:[b.yb],decls:7,vars:1,consts:[[4,"ngIf"],["mainTableTemplate",""],["addButtonTemplate",""],["justify-content","space-between"],[4,"ngTemplateOutlet"],[3,"pageableDefault","prev","next"],["theme","info"],[3,"isWaiting"],["mat-table","mat-table",1,"mat-table",3,"dataSource"],["matColumnDef","uniqueId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","mat-cell",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","mat-cell"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","color","primary","size","forTableRow",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary","routerLink","../add"]],template:function(t,c){1&t&&(b.Ec(0,z,45,5,"ct-section",0),b.Gc(1,"\n\n\n\n"),b.Ec(2,rt,32,4,"ng-template",null,1,b.Fc),b.Gc(4,"\n\n\n\n"),b.Ec(5,lt,4,0,"ng-template",null,2,b.Fc)),2&t&&b.kc("ngIf",c.simpleCompaniesResult)},directives:[n.m,I.a,R.a,x.a,O.a,B.a,M.a,E.a,D.a,n.r,q.a,N.a,P.a,U.a,L.a,l.j,l.c,l.e,l.b,l.g,l.i,l.d,l.a,F.a,a.f,l.f,l.h,F.b,a.d],styles:[""]}),t})();var dt=e("uB0V"),mt=e("I6qf"),pt=e("MI58"),ht=e("kmnG"),ft=e("qFsG"),Gt=e("3Pt+"),gt=e("05qC");const St=function(){return["../../companies"]};function Tt(t,c){if(1&t){const t=b.Ub();b.Tb(0,"ct-cols"),b.Gc(1,"\n    "),b.Tb(2,"ct-col",1),b.Gc(3,"\n        "),b.Tb(4,"ct-section"),b.Gc(5,"\n            "),b.Tb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Tb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Tb(10,"ct-heading"),b.Gc(11,"Edit Company"),b.Sb(),b.Gc(12,"\n                "),b.Sb(),b.Gc(13,"\n            "),b.Sb(),b.Gc(14,"\n            "),b.Tb(15,"ct-section-body"),b.Gc(16,"\n                "),b.Tb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Tb(19,"mat-form-field",2),b.Gc(20,"\n                        "),b.Tb(21,"mat-label"),b.Gc(22,"Name of company"),b.Sb(),b.Gc(23,"\n                        "),b.Tb(24,"input",3),b.ac("ngModelChange",(function(c){return b.uc(t),b.ec().name=c})),b.Sb(),b.Gc(25,"\n                        "),b.Tb(26,"mat-hint"),b.Gc(27,"This is a required field."),b.Sb(),b.Gc(28,"\n                    "),b.Sb(),b.Gc(29,"\n                    "),b.Ob(30,"br"),b.Gc(31,"\n                    "),b.Ob(32,"br"),b.Gc(33,"\n                    "),b.Tb(34,"mat-form-field",2),b.Gc(35,"\n                        "),b.Tb(36,"mat-label"),b.Gc(37,"Company's groups"),b.Sb(),b.Gc(38,"\n                        "),b.Tb(39,"input",3),b.ac("ngModelChange",(function(c){return b.uc(t),b.ec().groups=c})),b.Sb(),b.Gc(40,"\n                    "),b.Sb(),b.Gc(41,"\n                    "),b.Ob(42,"br"),b.Gc(43,"\n                    "),b.Tb(44,"ct-flex",4),b.Gc(45,"\n                        "),b.Tb(46,"ct-flex-item"),b.Gc(47,"\n                            "),b.Tb(48,"a",5),b.Gc(49,"Cancel"),b.Sb(),b.Gc(50,"\n                        "),b.Sb(),b.Gc(51,"\n                        "),b.Tb(52,"ct-flex-item"),b.Gc(53,"\n                            "),b.Tb(54,"button",6),b.ac("click",(function(){return b.uc(t),b.ec().saveChanges()})),b.Gc(55,"Save Changes"),b.Sb(),b.Gc(56,"\n                        "),b.Sb(),b.Gc(57,"\n                    "),b.Sb(),b.Gc(58,"\n                "),b.Sb(),b.Gc(59,"\n            "),b.Sb(),b.Gc(60,"\n        "),b.Sb(),b.Gc(61,"\n    "),b.Sb(),b.Gc(62,"\n    "),b.Tb(63,"ct-col",1),b.Gc(64,"\n        "),b.Ob(65,"ct-rest-status",7),b.Gc(66,"\n    "),b.Sb(),b.Gc(67,"\n"),b.Sb()}if(2&t){const t=b.ec();b.Bb(24),b.kc("ngModel",t.name),b.Bb(15),b.kc("ngModel",t.groups),b.Bb(9),b.kc("routerLink",b.mc(4,St)),b.Bb(17),b.kc("content",t.operationStatusRest)}}let yt=(()=>{class t{constructor(t,c,e){this.companyService=t,this.activatedRoute=c,this.router=e}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.editCompany(this.companyUniqueId).subscribe(t=>{this.simpleCompanyResult=t,this.name=t.company.name,this.groups=t.companyAccessControl.groups})}saveChanges(){this.companyService.editFormCommitCompany(this.companyUniqueId,this.name,this.groups).subscribe(t=>{t.status===dt.a.OK?this.back():this.operationStatusRest=t})}back(){this.router.navigate(["../../companies"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(v),b.Nb(a.a),b.Nb(a.c))},t.\u0275cmp=b.Hb({type:t,selectors:[["company-edit"]],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["appearance","outline",2,"width","100%"],["matInput","matInput",3,"ngModel","ngModelChange"],["justify-content","flex-end","gap","unit(1)"],["mat-stroked-button","",3,"routerLink"],["mat-flat-button","","color","primary",3,"click"],[3,"content"]],template:function(t,c){1&t&&b.Ec(0,Tt,68,5,"ct-cols",0),2&t&&b.kc("ngIf",c.simpleCompanyResult)},directives:[n.m,mt.a,pt.a,I.a,R.a,x.a,M.a,E.a,D.a,ht.b,ht.f,ft.b,Gt.c,Gt.l,Gt.o,ht.e,O.a,B.a,F.a,a.f,F.b,gt.a],styles:[""]}),t})();function wt(t,c){1&t&&b.Pb(0)}function kt(t,c){if(1&t&&(b.Tb(0,"ct-flex-item"),b.Gc(1,"\n                    "),b.Ec(2,wt,1,0,"ng-container",18),b.Gc(3,"\n                "),b.Sb()),2&t){b.ec(2);const t=b.sc(3);b.Bb(2),b.kc("ngTemplateOutlet",t)}}function vt(t,c){1&t&&(b.Tb(0,"ct-section-header-row"),b.Gc(1,"\n            "),b.Tb(2,"ct-alert",19),b.Gc(3,"\n                Management of accounts are disabled, assetMode is 'replicated'.\n            "),b.Sb(),b.Gc(4,"\n        "),b.Sb())}function Ct(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"ID "),b.Sb())}function It(t,c){if(1&t&&(b.Tb(0,"td",21),b.Gc(1),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("",t.id," ")}}function Rt(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"Is enabled "),b.Sb())}function xt(t,c){if(1&t&&(b.Tb(0,"td",21),b.Gc(1),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("",t.enabled?"Yes":"No"," ")}}function Ot(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"Login "),b.Sb())}function Bt(t,c){if(1&t&&(b.Tb(0,"td",21),b.Gc(1),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("",t.username," ")}}function Mt(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"Public name "),b.Sb())}function Et(t,c){if(1&t&&(b.Tb(0,"td",21),b.Gc(1),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("",t.publicName," ")}}function Dt(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"Roles"),b.Sb())}function qt(t,c){if(1&t&&(b.Tb(0,"td",21),b.Gc(1),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("",t.roles," ")}}function Nt(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"Created On "),b.Sb())}function Pt(t,c){if(1&t&&(b.Tb(0,"td",21),b.Gc(1),b.fc(2,"date"),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("\n                            ",b.hc(2,1,t.createdOn,"HH:mm:ss, MMM\xa0d,\xa0yyyy")," ")}}function Ut(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1," "),b.Sb())}const Lt=function(t){return["../","account",t,"edit"]},Ft=function(t){return["../","account",t,"edit-roles"]},_t=function(t){return["../","account",t,"edit-password"]};function jt(t,c){if(1&t&&(b.Tb(0,"ct-flex",23),b.Gc(1,"\n                                "),b.Tb(2,"ct-flex-item"),b.Gc(3,"\n                                    "),b.Tb(4,"a",24),b.Gc(5," Edit"),b.Sb(),b.Gc(6,"\n                                "),b.Sb(),b.Gc(7,"\n                                "),b.Tb(8,"ct-flex-item"),b.Gc(9,"\n                                    "),b.Tb(10,"a",24),b.Gc(11,"Roles"),b.Sb(),b.Gc(12,"\n                                "),b.Sb(),b.Gc(13,"\n                                "),b.Tb(14,"ct-flex-item"),b.Gc(15,"\n                                    "),b.Tb(16,"a",24),b.Gc(17,"\n                                        Change Password"),b.Sb(),b.Gc(18,"\n                                "),b.Sb(),b.Gc(19,"\n                            "),b.Sb()),2&t){const t=b.ec().$implicit;b.Bb(4),b.kc("routerLink",b.nc(3,Lt,t.id)),b.Bb(6),b.kc("routerLink",b.nc(5,Ft,t.id)),b.Bb(6),b.kc("routerLink",b.nc(7,_t,t.id))}}function $t(t,c){if(1&t&&(b.Tb(0,"td",21),b.Gc(1,"\n                            "),b.Ec(2,jt,20,9,"ct-flex",22),b.Gc(3,"\n                        "),b.Sb()),2&t){const t=b.ec(2);b.Bb(2),b.kc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.accountsResult.assetMode))}}function At(t,c){1&t&&(b.Tb(0,"tr",25),b.Gc(1," "),b.Sb())}function Ht(t,c){1&t&&(b.Tb(0,"tr",26),b.Gc(1," "),b.Sb())}function Qt(t,c){1&t&&b.Pb(0)}function zt(t,c){if(1&t&&(b.Tb(0,"ct-flex-item"),b.Gc(1,"\n                    "),b.Ec(2,Qt,1,0,"ng-container",18),b.Gc(3,"\n                "),b.Sb()),2&t){b.ec(2);const t=b.sc(3);b.Bb(2),b.kc("ngTemplateOutlet",t)}}function Wt(t,c){if(1&t){const t=b.Ub();b.Tb(0,"ct-section"),b.Gc(1,"\n    "),b.Tb(2,"ct-section-header"),b.Gc(3,"\n        "),b.Tb(4,"ct-section-header-row"),b.Gc(5,"\n            "),b.Tb(6,"ct-flex",2),b.Gc(7,"\n                "),b.Tb(8,"ct-flex-item"),b.Gc(9,"\n                    "),b.Tb(10,"ct-heading"),b.Gc(11,"Accounts"),b.Sb(),b.Gc(12,"\n                "),b.Sb(),b.Gc(13,"\n                "),b.Ec(14,kt,4,1,"ct-flex-item",0),b.Gc(15,"\n            "),b.Sb(),b.Gc(16,"\n        "),b.Sb(),b.Gc(17,"\n        "),b.Ec(18,vt,5,0,"ct-section-header-row",0),b.Gc(19,"\n    "),b.Sb(),b.Gc(20,"\n    "),b.Tb(21,"ct-section-body"),b.Gc(22,"\n        "),b.Tb(23,"ct-section-body-row"),b.Gc(24,"\n            "),b.Tb(25,"ct-table",3),b.Gc(26,"\n                "),b.Tb(27,"table",4),b.Gc(28,"\n                    "),b.Rb(29,5),b.Gc(30,"\n                        "),b.Ec(31,Ct,2,0,"th",6),b.Gc(32,"\n                        "),b.Ec(33,It,2,1,"td",7),b.Gc(34,"\n                    "),b.Qb(),b.Gc(35,"\n                    "),b.Rb(36,8),b.Gc(37,"\n                        "),b.Ec(38,Rt,2,0,"th",6),b.Gc(39,"\n                        "),b.Ec(40,xt,2,1,"td",7),b.Gc(41,"\n                    "),b.Qb(),b.Gc(42,"\n                    "),b.Rb(43,9),b.Gc(44,"\n                        "),b.Ec(45,Ot,2,0,"th",6),b.Gc(46,"\n                        "),b.Ec(47,Bt,2,1,"td",7),b.Gc(48,"\n                    "),b.Qb(),b.Gc(49,"\n                    "),b.Rb(50,10),b.Gc(51,"\n                        "),b.Ec(52,Mt,2,0,"th",6),b.Gc(53,"\n                        "),b.Ec(54,Et,2,1,"td",7),b.Gc(55,"\n                    "),b.Qb(),b.Gc(56,"\n                    "),b.Rb(57,11),b.Gc(58,"\n                        "),b.Ec(59,Dt,2,0,"th",6),b.Gc(60,"\n                        "),b.Ec(61,qt,2,1,"td",7),b.Gc(62,"\n                    "),b.Qb(),b.Gc(63,"\n                    "),b.Rb(64,12),b.Gc(65,"\n                        "),b.Ec(66,Nt,2,0,"th",6),b.Gc(67,"\n                        "),b.Ec(68,Pt,3,4,"td",7),b.Gc(69,"\n                    "),b.Qb(),b.Gc(70,"\n                    "),b.Rb(71,13),b.Gc(72,"\n                        "),b.Ec(73,Ut,2,0,"th",6),b.Gc(74,"\n                        "),b.Ec(75,$t,4,1,"td",7),b.Gc(76,"\n                    "),b.Qb(),b.Gc(77,"\n                    "),b.Ec(78,At,2,0,"tr",14),b.Gc(79,"\n                    "),b.Ec(80,Ht,2,0,"tr",15),b.Gc(81,"\n                "),b.Sb(),b.Gc(82,"\n            "),b.Sb(),b.Gc(83,"\n        "),b.Sb(),b.Gc(84,"\n    "),b.Sb(),b.Gc(85,"\n    "),b.Tb(86,"ct-section-footer"),b.Gc(87,"\n        "),b.Tb(88,"ct-section-footer-row"),b.Gc(89,"\n            "),b.Tb(90,"ct-flex",2),b.Gc(91,"\n                "),b.Tb(92,"ct-flex-item"),b.Gc(93,"\n                    "),b.Tb(94,"ct-flex",16),b.Gc(95,"\n                        "),b.Tb(96,"ct-table-pagination",17),b.ac("prev",(function(){return b.uc(t),b.ec().prevPage()}))("next",(function(){return b.uc(t),b.ec().nextPage()})),b.Sb(),b.Gc(97,"\n                    "),b.Sb(),b.Gc(98,"\n                "),b.Sb(),b.Gc(99,"\n                "),b.Ec(100,zt,4,1,"ct-flex-item",0),b.Gc(101,"\n            "),b.Sb(),b.Gc(102,"\n        "),b.Sb(),b.Gc(103,"\n    "),b.Sb(),b.Gc(104,"\n"),b.Sb()}if(2&t){const t=b.ec();b.Bb(14),b.kc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.accountsResult.assetMode)),b.Bb(4),b.kc("ngIf",t.dispatcherAssetModeService.isReplicated(t.accountsResult.assetMode)),b.Bb(7),b.kc("isWaiting",t.isLoading),b.Bb(2),b.kc("dataSource",t.dataSource),b.Bb(51),b.kc("matHeaderRowDef",t.columnsToDisplay),b.Bb(2),b.kc("matRowDefColumns",t.columnsToDisplay),b.Bb(16),b.kc("pageableDefault",t.accountsResult.accounts),b.Bb(4),b.kc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.accountsResult.assetMode))}}const Kt=function(){return["../","account","add"]};function Xt(t,c){1&t&&(b.Gc(0,"\n    "),b.Tb(1,"button",27),b.Gc(2,"\n        Add New Account\n    "),b.Sb(),b.Gc(3,"\n")),2&t&&(b.Bb(1),b.kc("routerLink",b.mc(1,Kt)))}let Jt=(()=>{class t extends u.a{constructor(t,c,e,n){super(n),this.companyService=t,this.activatedRoute=c,this.dispatcherAssetModeService=e,this.authenticationService=n,this.dataSource=new l.k([]),this.columnsToDisplay=["id","isEnabled","login","publicName","role","createdOn","bts"]}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.updateTable(0)}updateTable(t){this.setIsLoadingStart(),this.companyService.accounts(t.toString(),this.companyUniqueId).subscribe({next:t=>{this.accountsResult=t,this.dataSource=new l.k(this.accountsResult.accounts.content||[])},complete:()=>{this.setIsLoadingEnd()}})}nextPage(){this.updateTable(this.accountsResult.accounts.number+1)}prevPage(){this.updateTable(this.accountsResult.accounts.number-1)}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(v),b.Nb(a.a),b.Nb(C.a),b.Nb(d.a))},t.\u0275cmp=b.Hb({type:t,selectors:[["accounts"]],features:[b.yb],decls:4,vars:1,consts:[[4,"ngIf"],["addButtonTemplate",""],["justify-content","space-between"],[3,"isWaiting"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","isEnabled"],["matColumnDef","login"],["matColumnDef","publicName"],["matColumnDef","role"],["matColumnDef","createdOn"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["justify-content","flex-start","gap","8px"],[3,"pageableDefault","prev","next"],[4,"ngTemplateOutlet"],["theme","info"],["mat-header-cell",""],["mat-cell",""],["justify-content","flex-end","gap","9px",4,"ngIf"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,c){1&t&&(b.Ec(0,Wt,105,8,"ct-section",0),b.Gc(1,"\n\n\n"),b.Ec(2,Xt,4,2,"ng-template",null,1,b.Fc)),2&t&&b.kc("ngIf",c.accountsResult)},directives:[n.m,I.a,R.a,x.a,O.a,B.a,M.a,E.a,D.a,L.a,l.j,l.c,l.e,l.b,l.g,l.i,q.a,N.a,P.a,n.r,U.a,l.d,l.a,F.a,a.f,l.f,l.h,F.b,a.d],pipes:[n.e],styles:[""]}),t})();const Vt=function(){return["../companies"]};let Yt=(()=>{class t{constructor(t,c,e){this.companyService=t,this.router=c,this.activatedRoute=e,this.form=new Gt.f({name:new Gt.d("",[Gt.q.required,Gt.q.minLength(1)])})}createCompany(){this.companyService.addFormCommitCompany(this.form.value.name).subscribe(t=>{t.status===dt.a.OK?this.back():this.operationStatusRest=t})}back(){this.router.navigate(["../","companies"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(v),b.Nb(a.c),b.Nb(a.a))},t.\u0275cmp=b.Hb({type:t,selectors:[["company-add"]],decls:56,vars:5,consts:[["size","6"],[3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","formControlName","name"],["justify-content","flex-end","gap","unit(1)"],["mat-stroked-button","",3,"routerLink"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"content"]],template:function(t,c){1&t&&(b.Tb(0,"ct-cols"),b.Gc(1,"\n    "),b.Tb(2,"ct-col",0),b.Gc(3,"\n        "),b.Tb(4,"ct-section"),b.Gc(5,"\n            "),b.Tb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Tb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Tb(10,"ct-heading"),b.Gc(11,"New Company"),b.Sb(),b.Gc(12,"\n                "),b.Sb(),b.Gc(13,"\n            "),b.Sb(),b.Gc(14,"\n            "),b.Tb(15,"ct-section-body",1),b.Gc(16,"\n                "),b.Tb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Tb(19,"mat-form-field",2),b.Gc(20,"\n                        "),b.Tb(21,"mat-label"),b.Gc(22,"Name of company"),b.Sb(),b.Gc(23,"\n                        "),b.Ob(24,"input",3),b.Gc(25,"\n                        "),b.Tb(26,"mat-hint"),b.Gc(27,"This is a required field."),b.Sb(),b.Gc(28,"\n                    "),b.Sb(),b.Gc(29,"\n                    "),b.Ob(30,"br"),b.Gc(31,"\n                    "),b.Tb(32,"ct-flex",4),b.Gc(33,"\n                        "),b.Tb(34,"ct-flex-item"),b.Gc(35,"\n                            "),b.Tb(36,"a",5),b.Gc(37,"Cancel"),b.Sb(),b.Gc(38,"\n                        "),b.Sb(),b.Gc(39,"\n                        "),b.Tb(40,"ct-flex-item"),b.Gc(41,"\n                            "),b.Tb(42,"button",6),b.ac("click",(function(){return c.createCompany()})),b.Gc(43,"Create\n                                Company"),b.Sb(),b.Gc(44,"\n                        "),b.Sb(),b.Gc(45,"\n                    "),b.Sb(),b.Gc(46,"\n                "),b.Sb(),b.Gc(47,"\n            "),b.Sb(),b.Gc(48,"\n        "),b.Sb(),b.Gc(49,"\n    "),b.Sb(),b.Gc(50,"\n    "),b.Tb(51,"ct-col",0),b.Gc(52,"\n        "),b.Ob(53,"ct-rest-status",7),b.Gc(54,"\n    "),b.Sb(),b.Gc(55,"\n"),b.Sb()),2&t&&(b.Bb(15),b.kc("formGroup",c.form),b.Bb(21),b.kc("routerLink",b.mc(4,Vt)),b.Bb(6),b.kc("disabled",c.form.invalid),b.Bb(11),b.kc("content",c.operationStatusRest))},directives:[mt.a,pt.a,I.a,R.a,x.a,M.a,E.a,Gt.m,Gt.g,D.a,ht.b,ht.f,ft.b,Gt.c,Gt.l,Gt.e,ht.e,O.a,B.a,F.a,a.f,F.b,gt.a],styles:[""]}),t})(),Zt=(()=>{class t{constructor(t,c,e){this.activatedRoute=t,this.companyService=c,this.router=e,this.form=new Gt.f({publicName:new Gt.d("",[Gt.q.required,Gt.q.minLength(3)]),username:new Gt.d("",[Gt.q.required,Gt.q.minLength(3)]),password:new Gt.d("",[Gt.q.required,Gt.q.minLength(3)]),password2:new Gt.d("",[Gt.q.required,Gt.q.minLength(3),t=>{const c=this.form;return c?c.value.password===t.value?null:{notSame:!0}:null}])})}ngOnInit(){this.isDone=!1,this.isLoading=!0,this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.isLoading=!1}back(){this.router.navigate(["../../","accounts"],{relativeTo:this.activatedRoute})}createAccount(){this.isLoading=!0,this.companyService.addFormCommitNewAccount({username:this.form.value.username,password:this.form.value.password,password2:this.form.value.password2,publicName:this.form.value.publicName},this.companyUniqueId).subscribe({next:t=>this.operationStatusRest=t,complete:()=>{this.operationStatusRest.status===dt.a.OK&&(this.isDone=!0,this.form.reset()),this.isLoading=!1}})}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(a.a),b.Nb(v),b.Nb(a.c))},t.\u0275cmp=b.Hb({type:t,selectors:[["account-add"]],decls:108,vars:3,consts:[["align-items","baseline"],["size","6"],["novalidate","novalidate","autocomplete","off",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","type","text","autocomplete","name","formControlName","username"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password2"],["matInput","matInput","type","text","autocomplete","name","formControlName","publicName"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"]],template:function(t,c){1&t&&(b.Tb(0,"ct-cols",0),b.Gc(1,"\n    "),b.Tb(2,"ct-col",1),b.Gc(3,"\n        "),b.Tb(4,"ct-section"),b.Gc(5,"\n            "),b.Tb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Tb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Tb(10,"ct-heading"),b.Gc(11,"New Account"),b.Sb(),b.Gc(12,"\n                "),b.Sb(),b.Gc(13,"\n            "),b.Sb(),b.Gc(14,"\n            "),b.Tb(15,"ct-section-body"),b.Gc(16,"\n                "),b.Tb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Tb(19,"form",2),b.Gc(20,"\n                        "),b.Tb(21,"mat-form-field",3),b.Gc(22,"\n                            "),b.Tb(23,"mat-label"),b.Gc(24,"Name"),b.Sb(),b.Gc(25,"\n                            "),b.Ob(26,"input",4),b.Gc(27,"\n                            "),b.Tb(28,"mat-hint"),b.Gc(29,"This is a required field."),b.Sb(),b.Gc(30,"\n                        "),b.Sb(),b.Gc(31,"\n                        "),b.Ob(32,"br"),b.Gc(33,"\n                        "),b.Ob(34,"br"),b.Gc(35,"\n                        "),b.Tb(36,"mat-form-field",3),b.Gc(37,"\n                            "),b.Tb(38,"mat-label"),b.Gc(39,"Password"),b.Sb(),b.Gc(40,"\n                            "),b.Ob(41,"input",5),b.Gc(42,"\n                            "),b.Tb(43,"mat-hint"),b.Gc(44,"This is a required field."),b.Sb(),b.Gc(45,"\n                        "),b.Sb(),b.Gc(46,"\n                        "),b.Ob(47,"br"),b.Gc(48,"\n                        "),b.Ob(49,"br"),b.Gc(50,"\n                        "),b.Tb(51,"mat-form-field",3),b.Gc(52,"\n                            "),b.Tb(53,"mat-label"),b.Gc(54,"Password again"),b.Sb(),b.Gc(55,"\n                            "),b.Ob(56,"input",6),b.Gc(57,"\n                            "),b.Tb(58,"mat-hint"),b.Gc(59,"This is a required field."),b.Sb(),b.Gc(60,"\n                        "),b.Sb(),b.Gc(61,"\n                        "),b.Ob(62,"br"),b.Gc(63,"\n                        "),b.Ob(64,"br"),b.Gc(65,"\n                        "),b.Tb(66,"mat-form-field",3),b.Gc(67,"\n                            "),b.Tb(68,"mat-label"),b.Gc(69,"Public Name"),b.Sb(),b.Gc(70,"\n                            "),b.Ob(71,"input",7),b.Gc(72,"\n                            "),b.Tb(73,"mat-hint"),b.Gc(74,"This is a required field."),b.Sb(),b.Gc(75,"\n                        "),b.Sb(),b.Gc(76,"\n                    "),b.Sb(),b.Gc(77,"\n                "),b.Sb(),b.Gc(78,"\n            "),b.Sb(),b.Gc(79,"\n            "),b.Tb(80,"ct-section-footer"),b.Gc(81,"\n                "),b.Tb(82,"ct-section-footer-row"),b.Gc(83,"\n                    "),b.Tb(84,"ct-flex",8),b.Gc(85,"\n                        "),b.Tb(86,"ct-flex-item"),b.Gc(87,"\n                            "),b.Tb(88,"button",9),b.ac("click",(function(){return c.back()})),b.Gc(89,"Cancel"),b.Sb(),b.Gc(90,"\n                        "),b.Sb(),b.Gc(91,"\n                        "),b.Tb(92,"ct-flex-item"),b.Gc(93,"\n                            "),b.Tb(94,"button",10),b.ac("click",(function(){return c.createAccount()})),b.Gc(95,"Create Account"),b.Sb(),b.Gc(96,"\n                        "),b.Sb(),b.Gc(97,"\n                    "),b.Sb(),b.Gc(98,"\n                "),b.Sb(),b.Gc(99,"\n            "),b.Sb(),b.Gc(100,"\n        "),b.Sb(),b.Gc(101,"\n    "),b.Sb(),b.Gc(102,"\n    "),b.Tb(103,"ct-col",1),b.Gc(104,"\n        "),b.Ob(105,"ct-rest-status",11),b.Gc(106,"\n    "),b.Sb(),b.Gc(107,"\n"),b.Sb()),2&t&&(b.Bb(19),b.kc("formGroup",c.form),b.Bb(75),b.kc("disabled",c.isDone||c.isLoading||c.form.invalid),b.Bb(11),b.kc("content",c.operationStatusRest))},directives:[mt.a,pt.a,I.a,R.a,x.a,M.a,E.a,D.a,Gt.r,Gt.m,Gt.g,ht.b,ht.f,ft.b,Gt.c,Gt.l,Gt.e,ht.e,q.a,N.a,O.a,B.a,F.b,gt.a],styles:[""]}),t})();var tc=e("bSwM");function cc(t,c){if(1&t){const t=b.Ub();b.Tb(0,"ct-cols",1),b.Gc(1,"\n    "),b.Tb(2,"ct-col",2),b.Gc(3,"\n        "),b.Tb(4,"ct-section"),b.Gc(5,"\n            "),b.Tb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Tb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Tb(10,"ct-heading"),b.Gc(11),b.Sb(),b.Gc(12,"\n                "),b.Sb(),b.Gc(13,"\n            "),b.Sb(),b.Gc(14,"\n            "),b.Tb(15,"ct-section-body"),b.Gc(16,"\n                "),b.Tb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Tb(19,"mat-form-field",3),b.Gc(20,"\n                        "),b.Tb(21,"mat-label"),b.Gc(22,"Username"),b.Sb(),b.Gc(23,"\n                        "),b.Ob(24,"input",4),b.Gc(25,"\n                    "),b.Sb(),b.Gc(26,"\n                    "),b.Tb(27,"mat-form-field",5),b.Gc(28,"\n                        "),b.Tb(29,"mat-label"),b.Gc(30,"Public Name"),b.Sb(),b.Gc(31,"\n                        "),b.Tb(32,"input",6),b.ac("ngModelChange",(function(c){return b.uc(t),b.ec().publicName=c})),b.Sb(),b.Gc(33,"\n                    "),b.Sb(),b.Gc(34,"\n                    "),b.Ob(35,"br"),b.Gc(36,"\n                    "),b.Tb(37,"mat-checkbox",7),b.ac("ngModelChange",(function(c){return b.uc(t),b.ec().isEnabled=c})),b.Gc(38,"Is account enabled?"),b.Sb(),b.Gc(39,"\n                "),b.Sb(),b.Gc(40,"\n            "),b.Sb(),b.Gc(41,"\n            "),b.Tb(42,"ct-section-footer"),b.Gc(43,"\n                "),b.Tb(44,"ct-section-footer-row"),b.Gc(45,"\n                    "),b.Tb(46,"ct-flex",8),b.Gc(47,"\n                        "),b.Tb(48,"ct-flex-item"),b.Gc(49,"\n                            "),b.Tb(50,"button",9),b.ac("click",(function(){return b.uc(t),b.ec().back()})),b.Gc(51,"Cancel"),b.Sb(),b.Gc(52,"\n                        "),b.Sb(),b.Gc(53,"\n                        "),b.Tb(54,"ct-flex-item"),b.Gc(55,"\n                            "),b.Tb(56,"button",10),b.ac("click",(function(){return b.uc(t),b.ec().saveChanges()})),b.Gc(57,"Save Changes"),b.Sb(),b.Gc(58,"\n                        "),b.Sb(),b.Gc(59,"\n                    "),b.Sb(),b.Gc(60,"\n                "),b.Sb(),b.Gc(61,"\n            "),b.Sb(),b.Gc(62,"\n        "),b.Sb(),b.Gc(63,"\n    "),b.Sb(),b.Gc(64,"\n    "),b.Tb(65,"ct-col",2),b.Gc(66,"\n        "),b.Ob(67,"ct-rest-status",11),b.Gc(68,"\n    "),b.Sb(),b.Gc(69,"\n"),b.Sb()}if(2&t){const t=b.ec();b.Bb(11),b.Ic("Edit Account #",t.accountId," "),b.Bb(13),b.kc("value",t.accountResult.account.username),b.Bb(8),b.kc("ngModel",t.publicName),b.Bb(5),b.kc("ngModel",t.isEnabled)}}let ec=(()=>{class t{constructor(t,c,e){this.companyService=t,this.activatedRoute=c,this.router=e}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.accountId=this.activatedRoute.snapshot.paramMap.get("accountId"),this.companyService.edit(this.companyUniqueId,this.accountId).subscribe(t=>{this.accountResult=t,this.username=t.account.username,this.publicName=t.account.publicName,this.isEnabled=t.account.enabled})}back(){this.router.navigate(["../../../","accounts"],{relativeTo:this.activatedRoute})}saveChanges(){this.companyService.editFormCommit(this.accountId,this.publicName,this.isEnabled,this.companyUniqueId).subscribe(t=>{t.status===dt.a.OK?this.back():this.operationStatusRest=t})}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(v),b.Nb(a.a),b.Nb(a.c))},t.\u0275cmp=b.Hb({type:t,selectors:[["account-edit"]],decls:1,vars:1,consts:[["align-items","baseline",4,"ngIf"],["align-items","baseline"],["size","6"],["appearance","outline","disabled","",2,"width","100%"],["matInput","","disabled","",3,"value"],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],[3,"content"]],template:function(t,c){1&t&&b.Ec(0,cc,70,4,"ct-cols",0),2&t&&b.kc("ngIf",c.accountResult)},directives:[n.m,mt.a,pt.a,I.a,R.a,x.a,M.a,E.a,D.a,ht.b,ht.f,ft.b,Gt.c,Gt.l,Gt.o,tc.a,q.a,N.a,O.a,B.a,F.b,gt.a],styles:[""]}),t})();function nc(t,c){if(1&t){const t=b.Ub();b.Tb(0,"ct-cols",1),b.Gc(1,"\n    "),b.Tb(2,"ct-col",2),b.Gc(3,"\n        "),b.Tb(4,"ct-section"),b.Gc(5,"\n            "),b.Tb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Tb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Tb(10,"ct-heading"),b.Gc(11,"Edit Account "),b.Sb(),b.Gc(12,"\n                "),b.Sb(),b.Gc(13,"\n            "),b.Sb(),b.Gc(14,"\n            "),b.Tb(15,"ct-section-body"),b.Gc(16,"\n                "),b.Tb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Tb(19,"form",3),b.Gc(20,"\n                        "),b.Tb(21,"mat-form-field",4),b.Gc(22,"\n                            "),b.Tb(23,"mat-label"),b.Gc(24,"Password"),b.Sb(),b.Gc(25,"\n                            "),b.Ob(26,"input",5),b.Gc(27,"\n                            "),b.Tb(28,"mat-hint"),b.Gc(29,"This is a required field."),b.Sb(),b.Gc(30,"\n                        "),b.Sb(),b.Gc(31,"\n                        "),b.Ob(32,"br"),b.Gc(33,"\n                        "),b.Ob(34,"br"),b.Gc(35,"\n                        "),b.Tb(36,"mat-form-field",4),b.Gc(37,"\n                            "),b.Tb(38,"mat-label"),b.Gc(39,"Password again"),b.Sb(),b.Gc(40,"\n                            "),b.Ob(41,"input",6),b.Gc(42,"\n                            "),b.Tb(43,"mat-hint"),b.Gc(44,"This is a required field."),b.Sb(),b.Gc(45,"\n                        "),b.Sb(),b.Gc(46,"\n                    "),b.Sb(),b.Gc(47,"\n                "),b.Sb(),b.Gc(48,"\n            "),b.Sb(),b.Gc(49,"\n            "),b.Tb(50,"ct-section-footer"),b.Gc(51,"\n                "),b.Tb(52,"ct-section-footer-row"),b.Gc(53,"\n                    "),b.Tb(54,"ct-flex",7),b.Gc(55,"\n                        "),b.Tb(56,"ct-flex-item"),b.Gc(57,"\n                            "),b.Tb(58,"button",8),b.ac("click",(function(){return b.uc(t),b.ec().back()})),b.Gc(59,"Cancel"),b.Sb(),b.Gc(60,"\n                        "),b.Sb(),b.Gc(61,"\n                        "),b.Tb(62,"ct-flex-item"),b.Gc(63,"\n                            "),b.Tb(64,"button",9),b.ac("click",(function(){return b.uc(t),b.ec().saveChanges()})),b.Gc(65,"Save"),b.Sb(),b.Gc(66,"\n                        "),b.Sb(),b.Gc(67,"\n                    "),b.Sb(),b.Gc(68,"\n                "),b.Sb(),b.Gc(69,"\n            "),b.Sb(),b.Gc(70,"\n        "),b.Sb(),b.Gc(71,"\n    "),b.Sb(),b.Gc(72,"\n    "),b.Tb(73,"ct-col",2),b.Gc(74,"\n        "),b.Ob(75,"ct-rest-status",10),b.Gc(76,"\n    "),b.Sb(),b.Gc(77,"\n"),b.Sb()}if(2&t){const t=b.ec();b.Bb(19),b.kc("formGroup",t.form),b.Bb(45),b.kc("disabled",t.isLoading),b.Bb(11),b.kc("content",t.operationStatusRest)}}let ac=(()=>{class t{constructor(t,c,e){this.activatedRoute=t,this.companyService=c,this.router=e,this.form=new Gt.f({password:new Gt.d("",[Gt.q.required,Gt.q.minLength(3)]),password2:new Gt.d("",[Gt.q.required,Gt.q.minLength(3),t=>{const c=this.form;return c?c.value.password===t.value?null:{notSame:!0}:null}])})}ngOnInit(){this.isLoading=!0,this.accoundId=this.activatedRoute.snapshot.paramMap.get("accountId"),this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.passwordEdit(this.accoundId,this.companyUniqueId).subscribe({next:t=>this.accountResult=t,complete:()=>this.isLoading=!1})}back(){this.router.navigate(["../../../","accounts"],{relativeTo:this.activatedRoute})}saveChanges(){this.isLoading=!0,this.companyService.passwordEditFormCommit(this.accoundId,this.form.value.password,this.form.value.password2,this.companyUniqueId).subscribe({next:t=>this.operationStatusRest=t,complete:()=>this.isLoading=!1})}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(a.a),b.Nb(v),b.Nb(a.c))},t.\u0275cmp=b.Hb({type:t,selectors:[["account-edit-password"]],decls:1,vars:1,consts:[["align-items","baseline",4,"ngIf"],["align-items","baseline"],["size","6"],["novalidate","novalidate","autocomplete","off",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password2"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"]],template:function(t,c){1&t&&b.Ec(0,nc,78,3,"ct-cols",0),2&t&&b.kc("ngIf",c.accountResult)},directives:[n.m,mt.a,pt.a,I.a,R.a,x.a,M.a,E.a,D.a,Gt.r,Gt.m,Gt.g,ht.b,ht.f,ft.b,Gt.c,Gt.l,Gt.e,ht.e,q.a,N.a,O.a,B.a,F.b,gt.a],styles:[""]}),t})();function oc(t,c){if(1&t){const t=b.Ub();b.Tb(0,"div",4),b.Gc(1,"\n                        "),b.Tb(2,"mat-checkbox",5),b.ac("ngModelChange",(function(e){return b.uc(t),c.$implicit.value=e}))("change",(function(){b.uc(t);const e=c.$implicit;return b.ec(2).save(e)})),b.Gc(3),b.Sb(),b.Gc(4,"\n                    "),b.Sb()}if(2&t){const t=c.$implicit,e=b.ec(2);b.Bb(2),b.kc("ngModel",t.value)("disabled",e.isLoading),b.Bb(1),b.Ic("",t.key,"\n                        ")}}function ic(t,c){if(1&t&&(b.Tb(0,"ct-cols"),b.Gc(1,"\n    "),b.Tb(2,"ct-col",1),b.Gc(3,"\n        "),b.Tb(4,"ct-section"),b.Gc(5,"\n            "),b.Tb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Tb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Tb(10,"ct-heading"),b.Gc(11),b.Sb(),b.Gc(12,"\n                "),b.Sb(),b.Gc(13,"\n            "),b.Sb(),b.Gc(14,"\n            "),b.Tb(15,"ct-section-body"),b.Gc(16,"\n                "),b.Tb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Ec(19,oc,5,3,"div",2),b.fc(20,"keyvalue"),b.Gc(21,"\n                "),b.Sb(),b.Gc(22,"\n            "),b.Sb(),b.Gc(23,"\n        "),b.Sb(),b.Gc(24,"\n    "),b.Sb(),b.Gc(25,"\n    "),b.Tb(26,"ct-col",1),b.Gc(27,"\n        "),b.Ob(28,"ct-rest-status",3),b.Gc(29,"\n    "),b.Sb(),b.Gc(30,"\n"),b.Sb()),2&t){const t=b.ec();b.Bb(11),b.Ic("\n                        Edit Account #",t.accountId," Roles\n                    "),b.Bb(8),b.kc("ngForOf",b.gc(20,3,t.roleModel)),b.Bb(9),b.kc("content",t.operationStatusRest)}}let sc=(()=>{class t{constructor(t,c){this.companyService=t,this.activatedRoute=c,this.roleModel=new Map}ngOnInit(){this.isLoading=!0,this.accountId=this.activatedRoute.snapshot.paramMap.get("accountId"),this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.editRoles(this.accountId,this.companyUniqueId).subscribe(t=>{this.accountWithRoleResult=t,this.accountWithRoleResult.possibleRoles.forEach(t=>this.roleModel.set(t,!1)),this.accountWithRoleResult.account.authorities.forEach(t=>{this.roleModel.has(t.authority)&&this.roleModel.set(t.authority,!0)}),this.isLoading=!1})}save(t){this.isLoading=!0,this.companyService.rolesEditFormCommit(this.accountId,t.key,t.value,this.companyUniqueId).subscribe(t=>{this.operationStatusRest=t,this.isLoading=!1})}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(v),b.Nb(a.a))},t.\u0275cmp=b.Hb({type:t,selectors:[["account-edit-roles"]],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["style","margin: 0.5em 0",4,"ngFor","ngForOf"],[3,"content"],[2,"margin","0.5em 0"],[3,"ngModel","disabled","ngModelChange","change"]],template:function(t,c){1&t&&b.Ec(0,ic,31,5,"ct-cols",0),2&t&&b.kc("ngIf",c.accountWithRoleResult)},directives:[n.m,mt.a,pt.a,I.a,R.a,x.a,M.a,E.a,D.a,n.l,gt.a,tc.a,Gt.l,Gt.o],pipes:[n.g],styles:[""]}),t})();var bc=e("IRPT");function rc(t,c){if(1&t&&(b.Tb(0,"ct-section"),b.Gc(1,"\n    "),b.Tb(2,"ct-section-header"),b.Gc(3,"\n        "),b.Tb(4,"ct-section-header-row"),b.Gc(5,"\n            "),b.Tb(6,"ct-heading"),b.Gc(7),b.Sb(),b.Gc(8,"\n        "),b.Sb(),b.Gc(9,"\n    "),b.Sb(),b.Gc(10,"\n    "),b.Tb(11,"ct-section-body"),b.Gc(12,"\n        "),b.Tb(13,"ct-section-body-row"),b.Gc(14,"\n            "),b.Tb(15,"ct-pre"),b.Gc(16),b.Sb(),b.Gc(17,"\n        "),b.Sb(),b.Gc(18,"\n    "),b.Sb(),b.Gc(19,"\n"),b.Sb()),2&t){const t=b.ec();b.Bb(7),b.Ic("Batch #",null==t.batchDataStatus?null:t.batchDataStatus.batchId,""),b.Bb(9),b.Hc(null==t.batchDataStatus?null:t.batchDataStatus.console)}}let lc=(()=>{class t{constructor(t,c){this.companyService=t,this.activatedRoute=c}ngOnInit(){this.isLoading=!0,this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.batchId=this.activatedRoute.snapshot.paramMap.get("batchId"),this.companyService.getBatchStatus(this.companyUniqueId,this.batchId).subscribe({next:t=>this.batchDataStatus=t,error:()=>this.isLoading=!1,complete:()=>this.isLoading=!1})}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(v),b.Nb(a.a))},t.\u0275cmp=b.Hb({type:t,selectors:[["company-batch-status"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,c){1&t&&b.Ec(0,rc,20,2,"ct-section",0),2&t&&b.kc("ngIf",!c.isLoading)},directives:[n.m,I.a,R.a,x.a,M.a,E.a,D.a,bc.a],styles:[""]}),t})();var uc=e("MbdJ"),dc=e("d3UM"),mc=e("PVyz"),pc=e("FKr1");const hc=["fileUpload"];function fc(t,c){if(1&t&&(b.Tb(0,"div"),b.Gc(1,"\n                                "),b.Tb(2,"mat-option",11),b.Gc(3),b.Sb(),b.Gc(4,"\n                            "),b.Sb()),2&t){const t=c.$implicit;b.Bb(2),b.kc("value",t),b.Bb(1),b.Hc(t.uid)}}function Gc(t,c){if(1&t){const t=b.Ub();b.Tb(0,"ct-cols"),b.Gc(1,"\n    "),b.Tb(2,"ct-col",1),b.Gc(3,"\n        "),b.Tb(4,"ct-section"),b.Gc(5,"\n            "),b.Tb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Tb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Tb(10,"ct-heading"),b.Gc(11),b.fc(12,"translate"),b.Sb(),b.Gc(13,"\n                "),b.Sb(),b.Gc(14,"\n            "),b.Sb(),b.Gc(15,"\n            "),b.Tb(16,"ct-section-body"),b.Gc(17,"\n                "),b.Tb(18,"ct-section-body-row"),b.Gc(19,"\n                    "),b.Tb(20,"mat-form-field",2),b.Gc(21,"\n                        "),b.Tb(22,"mat-label"),b.Gc(23),b.fc(24,"translate"),b.Sb(),b.Gc(25,"\n                        "),b.Tb(26,"mat-select",3),b.ac("ngModelChange",(function(c){return b.uc(t),b.ec().sourceCode=c})),b.Gc(27,"\n                            "),b.Ec(28,fc,5,2,"div",4),b.Gc(29,"\n                        "),b.Sb(),b.Gc(30,"\n                        "),b.Tb(31,"mat-hint"),b.Gc(32),b.fc(33,"translate"),b.Sb(),b.Gc(34,"\n                    "),b.Sb(),b.Gc(35,"\n\n                    "),b.Ob(36,"br"),b.Gc(37,"\n                    "),b.Ob(38,"br"),b.Gc(39,"\n\n                    "),b.Tb(40,"div"),b.Gc(41,"\n                        "),b.Tb(42,"ct-file-upload",5,6),b.ac("changed",(function(){return b.uc(t),b.ec().fileUploadChanged()})),b.fc(44,"translate"),b.Gc(45,"\n                        "),b.Sb(),b.Gc(46,"\n                        "),b.Tb(47,"ct-hint"),b.Gc(48),b.fc(49,"translate"),b.Sb(),b.Gc(50,"\n                        "),b.Tb(51,"ct-hint"),b.Gc(52),b.fc(53,"translate"),b.Sb(),b.Gc(54,"\n                    "),b.Sb(),b.Gc(55,"\n                "),b.Sb(),b.Gc(56,"\n            "),b.Sb(),b.Gc(57,"\n            "),b.Tb(58,"ct-section-footer"),b.Gc(59,"\n                "),b.Tb(60,"ct-section-footer-row"),b.Gc(61,"\n                    "),b.Tb(62,"ct-flex",7),b.Gc(63,"\n                        "),b.Tb(64,"ct-flex-item"),b.Gc(65,"\n                            "),b.Tb(66,"button",8),b.ac("click",(function(){return b.uc(t),b.ec().back()})),b.Gc(67),b.fc(68,"translate"),b.Sb(),b.Gc(69,"\n                        "),b.Sb(),b.Gc(70,"\n                        "),b.Tb(71,"ct-flex-item"),b.Gc(72,"\n                            "),b.Tb(73,"button",9),b.ac("click",(function(){return b.uc(t),b.ec().upload()})),b.Gc(74),b.fc(75,"translate"),b.Sb(),b.Gc(76,"\n                        "),b.Sb(),b.Gc(77,"\n                    "),b.Sb(),b.Gc(78,"\n                "),b.Sb(),b.Gc(79,"\n            "),b.Sb(),b.Gc(80,"\n        "),b.Sb(),b.Gc(81,"\n    "),b.Sb(),b.Gc(82,"\n    "),b.Tb(83,"ct-col",1),b.Gc(84,"\n        "),b.Ob(85,"ct-rest-status",10),b.Gc(86,"\n    "),b.Sb(),b.Gc(87,"\n"),b.Sb()}if(2&t){const t=b.ec();b.Bb(11),b.Hc(b.gc(12,12,"batch-add.Upload file for processing")),b.Bb(12),b.Ic(" ",b.gc(24,14,"batch-add.List of Source Codes"),""),b.Bb(3),b.kc("ngModel",t.sourceCode),b.Bb(2),b.kc("ngForOf",t.sourceCodesForCompany.items),b.Bb(4),b.Hc(b.gc(33,16,"batch-add.This is a required field.")),b.Bb(10),b.lc("buttonTitle",b.gc(44,18,"batch-add.Select File")),b.Bb(6),b.Hc(b.gc(49,20,"batch-add.This is a required field.")),b.Bb(4),b.Hc(b.gc(53,22,"batch-add.Only .xml and .zip files are supported")),b.Bb(15),b.Ic("\n                                ",b.gc(68,24,"batch-add.Cancel"),""),b.Bb(6),b.kc("disabled",!t.sourceCode||!t.file),b.Bb(1),b.Ic(" ",b.gc(75,26,"batch-add.Upload-File-button"),""),b.Bb(11),b.kc("content",t.batchDataUploadingStatus)}}let gc=(()=>{class t{constructor(t,c,e){this.companyService=t,this.activatedRoute=c,this.router=e}ngOnInit(){this.batchId=this.activatedRoute.snapshot.paramMap.get("batchId"),this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.sourceCodesForCompany(this.companyUniqueId).subscribe(t=>{this.sourceCodesForCompany=t})}fileUploadChanged(){this.file=this.fileUpload.fileInput.nativeElement.files[0]||!1}upload(){this.companyService.uploadFile(this.companyUniqueId,this.sourceCode.id.toString(),this.file).subscribe(t=>{this.batchDataUploadingStatus=t})}back(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(v),b.Nb(a.a),b.Nb(a.c))},t.\u0275cmp=b.Hb({type:t,selectors:[["company-batch-upload"]],viewQuery:function(t,c){var e;1&t&&b.Kc(hc,!0),2&t&&b.rc(e=b.bc())&&(c.fileUpload=e.first)},decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["acceptTypes",".zip, .xml",3,"buttonTitle","changed"],["fileUpload",""],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"],[3,"value"]],template:function(t,c){1&t&&b.Ec(0,Gc,88,28,"ct-cols",0),2&t&&b.kc("ngIf",c.sourceCodesForCompany)},directives:[n.m,mt.a,pt.a,I.a,R.a,x.a,M.a,E.a,D.a,ht.b,ht.f,dc.a,Gt.l,Gt.o,n.l,ht.e,uc.a,mc.a,q.a,N.a,O.a,B.a,F.b,gt.a,pc.n],pipes:[o.c],styles:[""]}),t})();var Sc=e("4u49"),Tc=e("lJGJ"),yc=e("YcRZ"),wc=e("0EQZ"),kc=e("+xlp"),vc=e("0IaG"),Cc=e("NFeN"),Ic=function(t,c,e,n){var a,o=arguments.length,i=o<3?c:null===n?n=Object.getOwnPropertyDescriptor(c,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,c,e,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(c,e,i):a(c,e))||i);return o>3&&i&&Object.defineProperty(c,e,i),i},Rc=function(t,c){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,c)};function xc(t,c){1&t&&b.Pb(0)}function Oc(t,c){if(1&t){const t=b.Ub();b.Tb(0,"th",20),b.Gc(1,"\n                            "),b.Tb(2,"mat-checkbox",21),b.ac("change",(function(){return b.uc(t),b.ec(2).masterToggle()})),b.Gc(3,"\n                                "),b.Ob(4,"div",22),b.Gc(5,"\n                            "),b.Sb(),b.Gc(6,"\n                        "),b.Sb()}if(2&t){const t=b.ec(2);b.Bb(2),b.kc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function Bc(t,c){if(1&t){const t=b.Ub();b.Rb(0),b.Gc(1,"\n                                "),b.Tb(2,"mat-checkbox",24),b.ac("click",(function(c){return b.uc(t),c.stopPropagation()}))("change",(function(){b.uc(t);const c=b.ec().$implicit;return b.ec(2).selection.toggle(c)})),b.Gc(3,"\n                                    "),b.Ob(4,"div",22),b.Gc(5,"\n                                "),b.Sb(),b.Gc(6,"\n                            "),b.Qb()}if(2&t){const t=b.ec().$implicit,c=b.ec(2);b.Bb(2),b.kc("checked",c.selection.isSelected(t))}}function Mc(t,c){1&t&&(b.Rb(0),b.Gc(1,"\n                                "),b.Tb(2,"mat-checkbox",25),b.Gc(3,"\n                                    "),b.Ob(4,"div",22),b.Gc(5,"\n                                "),b.Sb(),b.Gc(6,"\n                            "),b.Qb())}function Ec(t,c){if(1&t&&(b.Tb(0,"td",23),b.Gc(1,"\n                            "),b.Ec(2,Bc,7,1,"ng-container",0),b.Gc(3,"\n                   \n                            "),b.Ec(4,Mc,7,0,"ng-container",0),b.Gc(5,"\n                   \n                        "),b.Sb()),2&t){const t=c.$implicit;b.Bb(2),b.kc("ngIf",t.batch.deleted),b.Bb(2),b.kc("ngIf",!t.batch.deleted)}}function Dc(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"ID"),b.Sb())}function qc(t,c){if(1&t&&(b.Tb(0,"td",23),b.Gc(1),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("",t.batch.id," ")}}function Nc(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"Created on "),b.Sb())}function Pc(t,c){if(1&t&&(b.Tb(0,"td",23),b.Gc(1),b.fc(2,"date"),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("\n                            ",b.hc(2,1,t.batch.createdOn,"MMM d, yyyy, HH:mm:ss")," ")}}function Uc(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"Is batch consistent?"),b.Sb())}function Lc(t,c){1&t&&(b.Tb(0,"span"),b.Gc(1),b.fc(2,"translate"),b.Sb()),2&t&&(b.Bb(1),b.Hc(b.gc(2,1,"batch.isBatchConsistent.true")))}function Fc(t,c){1&t&&(b.Tb(0,"span"),b.Gc(1),b.fc(2,"translate"),b.Sb()),2&t&&(b.Bb(1),b.Hc(b.gc(2,1,"batch.isBatchConsistent.false")))}function _c(t,c){if(1&t&&(b.Tb(0,"td",23),b.Gc(1," "),b.Ec(2,Lc,3,3,"span",0),b.Ec(3,Fc,3,3,"span",0),b.Sb()),2&t){const t=c.$implicit;b.Bb(2),b.kc("ngIf",t.ok),b.Bb(1),b.kc("ngIf",!t.ok)}}function jc(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"Is deleted? "),b.Sb())}function $c(t,c){if(1&t&&(b.Tb(0,"td",23),b.Gc(1),b.Sb()),2&t){const t=c.$implicit;b.Bb(1),b.Ic("",t.batch.deleted," ")}}function Ac(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"\n                            "),b.Tb(2,"div",26),b.Gc(3,"Source Code"),b.Sb(),b.Gc(4,"\n                            "),b.Tb(5,"div",26),b.Gc(6,"File Name"),b.Sb(),b.Gc(7,"\n                        "),b.Sb())}function Hc(t,c){if(1&t&&(b.Tb(0,"td",23),b.Gc(1,"\n                            "),b.Tb(2,"div",26),b.Gc(3),b.Sb(),b.Gc(4,"\n                            "),b.Tb(5,"div",26),b.Gc(6),b.Sb(),b.Gc(7,"\n                        "),b.Sb()),2&t){const t=c.$implicit;b.Bb(3),b.Hc(t.sourceCodeUid),b.Bb(3),b.Hc(t.uploadedFileName)}}function Qc(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1,"Exec State"),b.Sb())}function zc(t,c){1&t&&(b.Tb(0,"span"),b.Gc(1,"Error"),b.Sb())}function Wc(t,c){1&t&&(b.Tb(0,"span"),b.Gc(1,"Preparing"),b.Sb())}function Kc(t,c){1&t&&(b.Tb(0,"span"),b.Gc(1,"Processing"),b.Sb())}function Xc(t,c){1&t&&(b.Tb(0,"span"),b.Gc(1,"Finished"),b.Sb())}function Jc(t,c){if(1&t&&(b.Tb(0,"td",23),b.Gc(1,"\n                            "),b.Ec(2,zc,2,0,"span",0),b.Gc(3,"\n                            "),b.Ec(4,Wc,2,0,"span",0),b.Gc(5,"\n                            "),b.Ec(6,Kc,2,0,"span",0),b.Gc(7,"\n                            "),b.Ec(8,Xc,2,0,"span",0),b.Gc(9,"\n                        "),b.Sb()),2&t){const t=c.$implicit;b.Bb(2),b.kc("ngIf",-1===t.execState),b.Bb(2),b.kc("ngIf",2===t.execState),b.Bb(2),b.kc("ngIf",3===t.execState),b.Bb(2),b.kc("ngIf",4===t.execState)}}function Vc(t,c){1&t&&(b.Tb(0,"th",20),b.Gc(1," "),b.Sb())}function Yc(t,c){if(1&t){const t=b.Ub();b.Rb(0),b.Gc(1,"\n                                    "),b.Tb(2,"ct-flex-item"),b.Gc(3,"\n                                        "),b.Tb(4,"button",31),b.ac("click",(function(){b.uc(t);const c=b.ec().$implicit;return b.ec(2).deleteOne(c)})),b.Gc(5,"\n                                            "),b.Tb(6,"mat-icon"),b.Gc(7,"delete"),b.Sb(),b.Gc(8,"\n                                        "),b.Sb(),b.Gc(9,"\n                                    "),b.Sb(),b.Gc(10,"\n                                "),b.Qb()}if(2&t){const t=b.ec().$implicit,c=b.ec(2);b.Bb(4),b.kc("disabled",!(t.batch.deleted&&c.isFinished(t)))}}const Zc=function(t){return["../","batch",t]};function te(t,c){if(1&t){const t=b.Ub();b.Tb(0,"td",23),b.Gc(1,"\n                            "),b.Tb(2,"ct-flex",27),b.Gc(3,"\n                                "),b.Tb(4,"ct-flex-item"),b.Gc(5,"\n                                    "),b.Tb(6,"button",28),b.Gc(7,"Status"),b.Sb(),b.Gc(8,"\n                                "),b.Sb(),b.Gc(9,"\n                                "),b.Tb(10,"ct-flex-item"),b.Gc(11,"\n                                    "),b.Tb(12,"button",29),b.ac("click",(function(){b.uc(t);const e=c.$implicit;return b.ec(2).downloadResult(e)})),b.Gc(13,"\n                                        Result\n                                    "),b.Sb(),b.Gc(14,"\n                                "),b.Sb(),b.Gc(15,"\n                                "),b.Tb(16,"ct-flex-item"),b.Gc(17,"\n                                    "),b.Tb(18,"button",30),b.ac("click",(function(){b.uc(t);const e=c.$implicit;return b.ec(2).downloadOriginFile(e)})),b.Gc(19,"\n                                        Origin File\n                                    "),b.Sb(),b.Gc(20,"\n                                "),b.Sb(),b.Gc(21,"\n                                "),b.Ec(22,Yc,11,1,"ng-container",0),b.Gc(23,"\n                   \n                            "),b.Sb(),b.Gc(24,"\n                        "),b.Sb()}if(2&t){const t=c.$implicit,e=b.ec(2);b.Bb(6),b.kc("routerLink",b.nc(4,Zc,t.batch.id))("disabled",!e.isFinished(t)||e.isExecContextDeleted(t)),b.Bb(6),b.kc("disabled",!e.isFinished(t)||e.isExecContextDeleted(t)),b.Bb(10),b.kc("ngIf",e.isRole.MasterOperator)}}function ce(t,c){1&t&&b.Ob(0,"tr",32)}function ee(t,c){if(1&t){const t=b.Ub();b.Tb(0,"tr",33),b.ac("click",(function(){b.uc(t);const e=c.$implicit;return b.ec(2).checkAndToggleRowSeletion(e)})),b.Sb()}if(2&t){const t=c.$implicit,e=b.ec(2);b.Fb("selected-color",e.downloadSelector.isSelected(t))}}function ne(t,c){if(1&t){const t=b.Ub();b.Rb(0),b.Gc(1,"\n            "),b.Tb(2,"ct-section-footer-row"),b.Gc(3,"\n                "),b.Tb(4,"button",34),b.ac("click",(function(){return b.uc(t),b.ec(2).deleteMany()})),b.Gc(5,"\n                    Delete Checked\n                "),b.Sb(),b.Gc(6,"\n            "),b.Sb(),b.Gc(7,"\n        "),b.Qb()}if(2&t){const t=b.ec(2);b.Bb(4),b.kc("disabled",t.isLoading||0===t.selection.selected.length)}}function ae(t,c){1&t&&b.Pb(0)}function oe(t,c){if(1&t&&(b.Rb(0),b.Gc(1,"\n                    "),b.Tb(2,"ct-flex-item"),b.Gc(3,"\n                        "),b.Ec(4,ae,1,0,"ng-container",4),b.Gc(5,"\n                    "),b.Sb(),b.Gc(6,"\n                "),b.Qb()),2&t){b.ec(2);const t=b.sc(3);b.Bb(4),b.kc("ngTemplateOutlet",t)}}function ie(t,c){1&t&&b.Pb(0)}function se(t,c){if(1&t){const t=b.Ub();b.Tb(0,"ct-section"),b.Gc(1,"\n    "),b.Tb(2,"ct-section-header"),b.Gc(3,"\n        "),b.Tb(4,"ct-section-header-row"),b.Gc(5,"\n            "),b.Tb(6,"ct-flex",3),b.Gc(7,"\n                "),b.Tb(8,"ct-flex-item"),b.Gc(9,"\n                    "),b.Tb(10,"ct-heading"),b.Gc(11," Batch "),b.Sb(),b.Gc(12,"\n                "),b.Sb(),b.Gc(13,"\n                "),b.Tb(14,"ct-flex-item"),b.Gc(15,"\n                    "),b.Ec(16,xc,1,0,"ng-container",4),b.Gc(17,"\n                "),b.Sb(),b.Gc(18,"\n            "),b.Sb(),b.Gc(19,"\n        "),b.Sb(),b.Gc(20,"\n    "),b.Sb(),b.Gc(21,"\n    "),b.Tb(22,"ct-section-body"),b.Gc(23,"\n        "),b.Tb(24,"ct-section-body-row"),b.Gc(25,"\n            "),b.Tb(26,"ct-table",5),b.Gc(27,"\n                "),b.Tb(28,"table",6),b.Gc(29,"\n                    "),b.Rb(30,7),b.Gc(31,"\n                        "),b.Ec(32,Oc,7,2,"th",8),b.Gc(33,"\n                        "),b.Ec(34,Ec,6,2,"td",9),b.Gc(35,"\n                    "),b.Qb(),b.Gc(36,"\n                   \n                    "),b.Rb(37,10),b.Gc(38,"\n                        "),b.Ec(39,Dc,2,0,"th",8),b.Gc(40,"\n                        "),b.Ec(41,qc,2,1,"td",9),b.Gc(42,"\n                    "),b.Qb(),b.Gc(43,"\n                   \n                    "),b.Rb(44,11),b.Gc(45,"\n                        "),b.Ec(46,Nc,2,0,"th",8),b.Gc(47,"\n                        "),b.Ec(48,Pc,3,4,"td",9),b.Gc(49,"\n                    "),b.Qb(),b.Gc(50,"\n                   \n                    "),b.Rb(51,12),b.Gc(52,"\n                        "),b.Ec(53,Uc,2,0,"th",8),b.Gc(54,"\n                        "),b.Ec(55,_c,4,2,"td",9),b.Gc(56,"\n                    "),b.Qb(),b.Gc(57,"\n                   \n                    "),b.Rb(58,13),b.Gc(59,"\n                        "),b.Ec(60,jc,2,0,"th",8),b.Gc(61,"\n                        "),b.Ec(62,$c,2,1,"td",9),b.Gc(63,"\n                    "),b.Qb(),b.Gc(64,"\n                   \n                    "),b.Rb(65,14),b.Gc(66,"\n                        "),b.Ec(67,Ac,8,0,"th",8),b.Gc(68,"\n                        "),b.Ec(69,Hc,8,2,"td",9),b.Gc(70,"\n                    "),b.Qb(),b.Gc(71,"\n                   \n                    "),b.Rb(72,15),b.Gc(73,"\n                        "),b.Ec(74,Qc,2,0,"th",8),b.Gc(75,"\n                        "),b.Ec(76,Jc,10,4,"td",9),b.Gc(77,"\n                    "),b.Qb(),b.Gc(78,"\n                   \n                    "),b.Rb(79,16),b.Gc(80,"\n                        "),b.Ec(81,Vc,2,0,"th",8),b.Gc(82,"\n                        "),b.Ec(83,te,25,6,"td",9),b.Gc(84,"\n                    "),b.Qb(),b.Gc(85,"\n                   \n                    "),b.Ec(86,ce,1,0,"tr",17),b.Gc(87,"\n                    "),b.Ec(88,ee,1,2,"tr",18),b.Gc(89,"\n                "),b.Sb(),b.Gc(90,"\n            "),b.Sb(),b.Gc(91,"\n        "),b.Sb(),b.Gc(92,"\n    "),b.Sb(),b.Gc(93,"\n    "),b.Tb(94,"ct-section-footer"),b.Gc(95,"\n        "),b.Ec(96,ne,8,1,"ng-container",0),b.Gc(97,"\n        "),b.Tb(98,"ct-section-footer-row"),b.Gc(99,"\n            "),b.Tb(100,"ct-flex",3),b.Gc(101,"\n                "),b.Tb(102,"ct-flex-item"),b.Gc(103,"\n                    "),b.Tb(104,"ct-table-pagination",19),b.ac("prev",(function(){return b.uc(t),b.ec().prevPage()}))("next",(function(){return b.uc(t),b.ec().nextPage()})),b.Sb(),b.Gc(105,"\n                "),b.Sb(),b.Gc(106,"\n\n                "),b.Ec(107,oe,7,1,"ng-container",0),b.Gc(108,"\n\n                "),b.Tb(109,"ct-flex-item"),b.Gc(110,"\n                    "),b.Ec(111,ie,1,0,"ng-container",4),b.Gc(112,"\n                "),b.Sb(),b.Gc(113,"\n            "),b.Sb(),b.Gc(114,"\n        "),b.Sb(),b.Gc(115,"\n    "),b.Sb(),b.Gc(116,"\n"),b.Sb()}if(2&t){const t=b.ec(),c=b.sc(6);b.Bb(16),b.kc("ngTemplateOutlet",c),b.Bb(10),b.kc("isWaiting",t.isLoading),b.Bb(2),b.kc("dataSource",t.dataSource),b.Bb(58),b.kc("matHeaderRowDef",t.columnsToDisplay),b.Bb(2),b.kc("matRowDefColumns",t.columnsToDisplay),b.Bb(8),b.kc("ngIf",t.isRole.MasterOperator),b.Bb(8),b.kc("pageableDefault",t.batchesResult.batches),b.Bb(3),b.kc("ngIf",t.downloadSelector.size>0),b.Bb(4),b.kc("ngTemplateOutlet",c)}}function be(t,c){if(1&t){const t=b.Ub();b.Gc(0,"\n    "),b.Tb(1,"ct-flex",35),b.Gc(2,"\n        "),b.Tb(3,"ct-flex-item"),b.Gc(4,"\n            "),b.Tb(5,"div",36),b.Gc(6),b.Sb(),b.Gc(7,"\n        "),b.Sb(),b.Gc(8,"\n        "),b.Tb(9,"ct-flex-item"),b.Gc(10,"\n            "),b.Tb(11,"button",37),b.ac("click",(function(){return b.uc(t),b.ec().downloadResults()})),b.Gc(12,"\n                Download\n            "),b.Sb(),b.Gc(13,"\n        "),b.Sb(),b.Gc(14,"\n        "),b.Tb(15,"ct-flex-item"),b.Gc(16,"\n            "),b.Tb(17,"button",37),b.ac("click",(function(){return b.uc(t),b.ec().downloadSelector.clear()})),b.Gc(18,"\n                Discard\n            "),b.Sb(),b.Gc(19,"\n        "),b.Sb(),b.Gc(20,"\n    "),b.Sb(),b.Gc(21,"\n")}if(2&t){const t=b.ec();b.Bb(6),b.Ic("\n                Selected \xd7 ",t.downloadSelector.size,"\n            "),b.Bb(5),b.kc("disabled",t.isLoading),b.Bb(6),b.kc("disabled",t.isLoading)}}const re=function(){return["upload"]};function le(t,c){1&t&&(b.Rb(0),b.Gc(1,"\n        "),b.Tb(2,"button",38),b.Gc(3,"Upload files and start\n            processing"),b.Sb(),b.Gc(4,"\n    "),b.Qb()),2&t&&(b.Bb(2),b.kc("routerLink",b.mc(1,re)))}function ue(t,c){if(1&t&&(b.Gc(0,"\n    "),b.Ec(1,le,5,2,"ng-container",0),b.Gc(2,"\n")),2&t){const t=b.ec();b.Bb(1),b.kc("ngIf",t.isRole.MasterOperator)}}let de=(()=>{class t extends u.a{constructor(t,c,e,n,a){super(t),this.authenticationService=t,this.companyService=c,this.activatedRoute=e,this.dialog=n,this.translate=a,this.dataSource=new l.k([]),this.selection=new wc.c(!0,[]),this.downloadSelector=new kc.a}checkAndToggleRowSeletion(t){this.isFinished(t)&&!this.isExecContextDeleted(t)&&this.downloadSelector.toggle(t)}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.updateTable("0")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.filter(t=>t.batch.deleted).length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.filter(t=>t.batch.deleted).forEach(t=>this.selection.select(t))}get columnsToDisplay(){return this.isRole.MasterOperator?["check","id","createdOn","isBatchConsistent","isDeleted","sourceCode","execState","bts"]:["id","createdOn","isBatchConsistent","isDeleted","sourceCode","execState","bts"]}updateTable(t){this.isLoading=!0,this.companyService.batches(t,this.companyUniqueId).subscribe({next:t=>{this.batchesResult=t,this.batches=this.batchesResult.batches.content,this.dataSource=new l.k(this.batches),this.selection.clear()},complete:()=>this.isLoading=!1})}isFinished(t){return t.batch.execState===yc.a.Finished||t.batch.execState===yc.a.Error||t.batch.execState===yc.a.Archived}isExecContextDeleted(t){return t.execContextDeleted}prevPage(){this.updateTable((this.batchesResult.batches.number-1).toString())}nextPage(){this.updateTable((this.batchesResult.batches.number+1).toString())}deleteOne(t){this.isLoading=!0,this.companyService.processBatchDeleteCommit(this.companyUniqueId,t.batch.id.toString()).subscribe({complete:()=>{this.updateTable(this.batchesResult.batches.number.toString())}})}deleteMany(){this.isLoading=!0,this.companyService.processBatchesBulkDeleteCommit(this.companyUniqueId,this.selection.selected.map(t=>t.batch.id).toString()).subscribe({next:()=>{this.updateTable(this.batchesResult.batches.number.toString())}})}downloadResult(t){this.companyService.downloadProcessingResult(this.companyUniqueId,t.batch.id.toString()).subscribe(t=>{const c=t.headers.get("Content-Disposition").replace("filename*=UTF-8''","")||"result.zip";w.saveAs(t.body,c)})}downloadOriginFile(t){this.companyService.downloadOriginFile(this.companyUniqueId,t.batch.id.toString(),t.uploadedFileName).subscribe(t=>{const c=t.headers.get("Content-Disposition").replace("filename*=UTF-8''","")||"result.zip";w.saveAs(t.body,c)})}downloadResults(){this.isLoading=!0,this.companyService.downloadProcessingResults(this.downloadSelector.getList(),this.companyUniqueId).subscribe(()=>{this.isLoading=!1,this.downloadSelector.clear()})}}return t.\u0275fac=function(c){return new(c||t)(b.Nb(d.a),b.Nb(v),b.Nb(a.a),b.Nb(vc.b),b.Nb(o.d))},t.\u0275cmp=b.Hb({type:t,selectors:[["company-batch-list"]],features:[b.yb],decls:7,vars:1,consts:[[4,"ngIf"],["downloadButtonsTemplate",""],["uploadButtonTemplate",""],["justify-content","space-between"],[4,"ngTemplateOutlet"],[3,"isWaiting"],["mat-table","",1,"mat-table",3,"dataSource"],["matColumnDef","check"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","createdOn"],["matColumnDef","isBatchConsistent"],["matColumnDef","isDeleted"],["matColumnDef","sourceCode"],["matColumnDef","execState"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected-color","click",4,"matRowDef","matRowDefColumns"],[3,"pageableDefault","prev","next"],["mat-header-cell",""],["color","warn",3,"checked","indeterminate","change"],[1,"check-area"],["mat-cell",""],["color","warn",3,"checked","click","change"],["disabled",""],[1,"no-wrap"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"routerLink","disabled"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","click"],["mat-flat-button","","size","forTableRow","color","primary",3,"click"],["mat-flat-button","","color","warn","size","forTableRow","title","Delete",3,"disabled","click"],["mat-header-row",""],["mat-row","",3,"click"],["mat-flat-button","","color","warn","title","Delete Checked",3,"disabled","click"],["justify-content","center","gap","unit(1)","align-items","center"],[1,"selected-count"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,c){1&t&&(b.Ec(0,se,117,9,"ct-section",0),b.Gc(1,"\n\n\n\n"),b.Ec(2,be,22,3,"ng-template",null,1,b.Fc),b.Gc(4,"\n\n\n\n"),b.Ec(5,ue,3,1,"ng-template",null,2,b.Fc)),2&t&&b.kc("ngIf",c.batchesResult)},directives:[n.m,I.a,R.a,x.a,O.a,B.a,M.a,n.r,E.a,D.a,L.a,l.j,l.c,l.e,l.b,l.g,l.i,q.a,N.a,P.a,l.d,tc.a,l.a,F.b,a.d,Cc.a,l.f,l.h],pipes:[n.e,o.c],styles:["mat-checkbox[_ngcontent-%COMP%]{position:relative}.check-area[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;top:50%;left:50%;margin-top:-20px;margin-left:-20px;background-color:transparent}.selected-color[_ngcontent-%COMP%]{background-color:rgba(255,193,7,.18)}.selected-count[_ngcontent-%COMP%]{background:rgba(255,193,7,.18);border-radius:4px;padding:10px 20px 8px}"]}),Ic([Object(Tc.a)({question:t=>({text:Object(Sc.a)("batch-company.delete-dialog.Do you want to delete Batch _batchId_"),params:{batchId:t.batch.id}}),rejectTitle:""+Object(Sc.a)("batch-company.delete-dialog.Cancel"),resolveTitle:""+Object(Sc.a)("batch-company.delete-dialog.Delete")}),Rc("design:type",Function),Rc("design:paramtypes",[Object]),Rc("design:returntype",void 0)],t.prototype,"deleteOne",null),Ic([Object(Tc.a)({question:()=>({text:Object(Sc.a)("batch-company.delete-dialog.Do you want to delete Batches"),params:{}}),rejectTitle:""+Object(Sc.a)("batch-company.delete-dialog.Cancel"),resolveTitle:""+Object(Sc.a)("batch-company.delete-dialog.Delete")}),Rc("design:type",Function),Rc("design:paramtypes",[]),Rc("design:returntype",void 0)],t.prototype,"deleteMany",null),t})();var me=e("iuQL");const pe=[{path:"",component:r},{path:"companies",component:ut},{path:":companyUniqueId/edit",canActivate:[me.a],component:yt,data:{backConfig:["../","../","companies"],requiredRoles:[d.e.MasterAdmin]}},{path:"add",component:Yt,data:{backConfig:["../","companies"]}},{path:":companyUniqueId/accounts",component:Jt,canActivate:[me.a],data:{backConfig:["../","../","companies"],requiredRoles:[d.e.MasterAdmin]}},{path:":companyUniqueId/account/add",component:Zt,data:{backConfig:["../","../","accounts"]}},{path:":companyUniqueId/account/:accountId/edit",component:ec,data:{backConfig:["../","../","../","accounts"]}},{path:":companyUniqueId/account/:accountId/edit-roles",component:sc,data:{backConfig:["../","../","../","accounts"]}},{path:":companyUniqueId/account/:accountId/edit-password",component:ac,data:{backConfig:["../","../","../","accounts"]}},{path:"1/batches",redirectTo:"companies"},{path:":companyUniqueId/batches",component:de,canActivate:[me.a],data:{backConfig:["../","../","companies"],requiredRoles:[d.e.MasterSupport,d.e.MasterOpertator]}},{path:":companyUniqueId/batches/upload",component:gc,canActivate:[me.a],data:{backConfig:["../"],requiredRoles:[d.e.MasterSupport,d.e.MasterOpertator]}},{path:":companyUniqueId/batch/:batchId",component:lc,canActivate:[me.a],data:{backConfig:["../","../","batches"],requiredRoles:[d.e.MasterSupport,d.e.MasterOpertator]}}];let he=(()=>{class t{}return t.\u0275mod=b.Lb({type:t}),t.\u0275inj=b.Kb({factory:function(c){return new(c||t)},imports:[[a.g.forChild(pe)],a.g]}),t})(),fe=(()=>{class t{}return t.\u0275mod=b.Lb({type:t}),t.\u0275inj=b.Kb({factory:function(c){return new(c||t)},imports:[[n.c,he,i.a,s.a,Gt.h,Gt.p,o.b.forChild({})]]}),t})()}}]);